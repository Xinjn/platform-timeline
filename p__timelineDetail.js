(self["webpackChunktimeline"]=self["webpackChunktimeline"]||[]).push([[135],{10773:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"C7\": function() { return /* binding */ PUBLISH_STATUS; },\n/* harmony export */   \"TK\": function() { return /* binding */ FINISH_STATUS; },\n/* harmony export */   \"h0\": function() { return /* binding */ TIMELINE_TYPE; },\n/* harmony export */   \"Um\": function() { return /* binding */ NODE_USE_STATUS; },\n/* harmony export */   \"Fo\": function() { return /* binding */ NODE_LIKE_CONFIG_STATUS; },\n/* harmony export */   \"pH\": function() { return /* binding */ NODE_TIME_TYPE; },\n/* harmony export */   \"l2\": function() { return /* binding */ EXPOSURE_USE_STATUS; },\n/* harmony export */   \"DM\": function() { return /* binding */ COLORS; },\n/* harmony export */   \"AF\": function() { return /* binding */ APP_ID; }\n/* harmony export */ });\n/* unused harmony exports ALLOW_COMMENT, TIMELINE_UPDATED, NODE_STATUS, NODE_ALLOW_COMMENT_STATUS, NODE_HIGNLIGHT_STATUS, DEFAULT_LIKE_CONFIG, NODE_MILESTONE_STATUS, NODE_WATERMARK_STATUS */\n// \u65f6\u95f4\u7ebf\u53d1\u5e03\u72b6\u6001\nvar PUBLISH_STATUS = {\n  0: '\u4e0b\u7ebf',\n  1: '\u4e0a\u7ebf'\n}; // \u65f6\u95f4\u7ebf\u5b8c\u7ed3\u72b6\u6001\n\nvar FINISH_STATUS = {\n  0: '\u672a\u5b8c\u7ed3',\n  1: '\u5df2\u5b8c\u7ed3'\n}; // \u65f6\u95f4\u7ebf\u8bc4\u8bba\u72b6\u6001\n\nvar ALLOW_COMMENT = {\n  0: '\u4e0d\u5141\u8bb8',\n  1: '\u5141\u8bb8'\n}; // \u65f6\u95f4\u7ebf\u7c7b\u578b\n\nvar TIMELINE_TYPE = {\n  '\u65e0': '\u65e0',\n  '\u5a31\u4e50': '\u5a31\u4e50',\n  '\u65f6\u653f': '\u65f6\u653f',\n  '\u8ba3\u544a': '\u8ba3\u544a'\n}; // \u65f6\u95f4\u7ebf\u662f\u5426\u66f4\u65b0\u672a\u53d1\u5e03\n\nvar TIMELINE_UPDATED = {\n  0: '\u672a\u66f4\u65b0',\n  1: '\u6709\u66f4\u65b0'\n}; // \u8282\u70b9\u72b6\u6001\n\nvar NODE_STATUS = {\n  0: '\u5df2\u5220\u9664',\n  1: '\u4f7f\u7528\u4e2d'\n}; // \u8282\u70b9\u4f7f\u7528\u72b6\u6001\n\nvar NODE_USE_STATUS = {\n  0: '\u672a\u751f\u6548',\n  1: '\u5df2\u751f\u6548'\n}; // \u8282\u70b9\u8bc4\u8bba\u72b6\u6001\n\nvar NODE_ALLOW_COMMENT_STATUS = {\n  0: '\u4e0d\u5141\u8bb8',\n  1: '\u5141\u8bb8'\n}; // \u8282\u70b9\u91cd\u70b9\u72b6\u6001\n\nvar NODE_HIGNLIGHT_STATUS = {\n  0: '\u975e\u91cd\u70b9',\n  1: '\u91cd\u70b9'\n}; // \u8282\u70b9\u4e92\u52a8\u72b6\u6001\n\nvar NODE_LIKE_CONFIG_STATUS = {\n  1: '\u70b9\u8d5e',\n  2: '\u9876\u8e29',\n  3: '\u9c9c\u82b1',\n  4: '\u8721\u70db',\n  5: '\u52a0\u6cb9'\n}; // \u8282\u70b9\u65f6\u95f4\u5c55\u793a\u7c7b\u578b\n\nvar NODE_TIME_TYPE = [{\n  value: 1,\n  label: '\u4eca\u65e5/\u6628\u65e5+\u5e74\u6708\u65e5'\n}, {\n  value: 2,\n  label: '\u5e74'\n}, {\n  value: 3,\n  label: '\u5e74\u6708'\n}, {\n  value: 4,\n  label: '\u5e74\u6708\u65e5'\n}, {\n  value: 5,\n  label: '\u5e74\u6708\u65e5\u65f6\u5206'\n}]; // \u65f6\u95f4\u7ebf\u7c7b\u578b\u5bf9\u5e94\u8282\u70b9\u4e92\u52a8\u7c7b\u578b\n\nvar DEFAULT_LIKE_CONFIG = {\n  '\u65f6\u653f': '1',\n  '\u65e0': '1',\n  '\u5a31\u4e50': '2',\n  '\u8ba3\u544a': '4'\n}; // \u8282\u70b9\u91cc\u7a0b\u7891\u72b6\u6001\n\nvar NODE_MILESTONE_STATUS = {\n  0: '\u65e0',\n  1: '\u53cd\u8f6c',\n  2: '\u5b9e\u9524'\n}; // \u8282\u70b9\u6c34\u5370\u72b6\u6001\n\nvar NODE_WATERMARK_STATUS = {\n  0: '\u65e0',\n  1: '\u5f85\u5b9a',\n  2: '\u771f',\n  3: '\u5df2\u8f9f\u8c23'\n}; // \u7206\u6599\u91c7\u7528\u72b6\u6001\n\nvar EXPOSURE_USE_STATUS = {\n  '-1': '\u5f85\u5904\u7406',\n  0: '\u4e0d\u91c7\u7528',\n  1: '\u91c7\u7528'\n};\nvar COLORS = ['#FE9620', '#41B598', '#041BB9', '#F54343', '#F2B600', '#74325c', '#3b7960', '#FF80AF', '#995E0F', '#AB97A5']; // \u70b9\u8d5e\u8bc4\u8bba\u7528\n\nvar APP_ID = 10;\n\n//# sourceURL=webpack://timeline/./src/asset/dict.js?")},73643:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(52663);\n/* harmony import */ var antd_es_message_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(14643);\n/* harmony import */ var antd_es_message__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(92909);\n/* harmony import */ var _Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(3911);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67294);\n/* harmony import */ var react_copy_to_clipboard__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(61111);\n/* harmony import */ var react_copy_to_clipboard__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_copy_to_clipboard__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _ant_design_icons__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(99165);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(85893);\n\n\n\n\n\n\n\n\n\nvar CopyId = _ref => {\n  var data = _ref.data,\n      props = (0,_Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__/* .default */ .Z)(_ref, ["data"]);\n\n  var text = props.text,\n      iconStyle = props.iconStyle,\n      title = props.title,\n      copyElement = props.copyElement,\n      rest = (0,_Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_4__/* .default */ .Z)(props, ["text", "iconStyle", "title", "copyElement"]);\n\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(react_copy_to_clipboard__WEBPACK_IMPORTED_MODULE_2__.CopyToClipboard, (0,_Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__/* .default */ .Z)((0,_Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__/* .default */ .Z)({\n    text: text,\n    onCopy: () => {\n      antd_es_message__WEBPACK_IMPORTED_MODULE_6__.default.success(\'\u5df2\u590d\u5236\u5230\u7c98\u8d34\u677f\');\n    }\n  }, rest), {}, {\n    children: copyElement || /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_ant_design_icons__WEBPACK_IMPORTED_MODULE_7__/* .default */ .Z, {\n      style: iconStyle,\n      title: "".concat(title || text, "\\uFF0C\\u70B9\\u51FB\\u53EF\\u590D\\u5236")\n    })\n  }));\n};\n\n/* harmony default export */ __webpack_exports__["Z"] = (CopyId);\n\n//# sourceURL=webpack://timeline/./src/components/CopyId.tsx?')},78895:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony import */ var antd_es_button_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(13753);\n/* harmony import */ var antd_es_button__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(48429);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(67294);\n/* harmony import */ var _hocs_ModalRef__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(72116);\n/* harmony import */ var _ifeng_plateform_queryTable__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(95249);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(56051);\n/* harmony import */ var moment__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(85893);\n\n\n\n\n\n\n\n\nvar LogList = props => {\n  var list = props.list,\n      total = props.total,\n      handleOperate = props.handleOperate,\n      _props$operate = props.operate,\n      operate = _props$operate === void 0 ? false : _props$operate,\n      loading = props.loading,\n      query = props.query,\n      modalProps = props.modalProps,\n      defaultPageSize = props.defaultPageSize,\n      _props$hasMessage = props.hasMessage,\n      hasMessage = _props$hasMessage === void 0 ? true : _props$hasMessage;\n\n  var handleRollBack = data => {\n    handleOperate(data);\n  };\n\n  var operateObj = {\n    title: '\u64cd\u4f5c',\n    dataIndex: 'operate',\n    render: (text, record) => /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(antd_es_button__WEBPACK_IMPORTED_MODULE_6__/* .default */ .Z, {\n      type: \"primary\",\n      onClick: () => {\n        handleRollBack(record);\n      },\n      children: \"\\u56DE\\u6EDA\"\n    })\n  };\n  var baseColumns = hasMessage ? [{\n    title: '\u66f4\u65b0\u65f6\u95f4',\n    dataIndex: 'operateTime',\n    render: (text, record) => moment__WEBPACK_IMPORTED_MODULE_4___default()(text * 1000).format('YYYY-MM-DD HH:mm:ss')\n  }, {\n    title: '\u64cd\u4f5c\u4eba',\n    dataIndex: 'operator'\n  }, {\n    title: '\u5185\u5bb9',\n    dataIndex: 'message'\n  }] : [{\n    title: '\u66f4\u65b0\u65f6\u95f4',\n    dataIndex: 'operateTime',\n    render: (text, record) => moment__WEBPACK_IMPORTED_MODULE_4___default()(text * 1000).format('YYYY-MM-DD HH:mm:ss')\n  }, {\n    title: '\u64cd\u4f5c\u4eba',\n    dataIndex: 'operator'\n  }];\n  var operateColumns = [...baseColumns];\n  operateColumns.push(operateObj);\n  var columns = !operate ? baseColumns : operateColumns;\n  return /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_5__.jsx)(_ifeng_plateform_queryTable__WEBPACK_IMPORTED_MODULE_3__/* .QueryTable */ .U, {\n    notQueryWhilestart: true,\n    columns,\n    rowKey: record => record.id,\n    loading,\n    list: list !== null && list !== void 0 ? list : [],\n    total,\n    query,\n    modalProps,\n    defaultPageSize\n  });\n};\n\n/* harmony default export */ __webpack_exports__[\"Z\"] = (/*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((0,_hocs_ModalRef__WEBPACK_IMPORTED_MODULE_2__/* .default */ .Z)(LogList)));\n\n//# sourceURL=webpack://timeline/./src/components/LogList/index.tsx?")},72116:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var antd_es_modal_style__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(26780);\n/* harmony import */ var antd_es_modal__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(86444);\n/* harmony import */ var _Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(52663);\n/* harmony import */ var _Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(68699);\n/* harmony import */ var _Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(38573);\n/* harmony import */ var _Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(94043);\n/* harmony import */ var _Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(67294);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(85893);\n\n\n\n\n\n\n\n\n\nfunction modalRef(Component) {\n  return function ModalWarp(props, ref) {\n    var _useState = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false),\n        _useState2 = (0,_Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_4__/* .default */ .Z)(_useState, 2),\n        isModalVisible = _useState2[0],\n        setIsModalVisible = _useState2[1];\n\n    var modalProps = props.modalProps,\n        OkCallBack = props.OkCallBack;\n\n    var showModal = () => {\n      setIsModalVisible(true);\n    };\n\n    var handleOk = /*#__PURE__*/function () {\n      var _ref = (0,_Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_5__/* .default */ .Z)( /*#__PURE__*/_Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().mark(function _callee() {\n        return _Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_1___default().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return OkCallBack();\n\n              case 3:\n                setIsModalVisible(false);\n                _context.next = 9;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context["catch"](0);\n                console.error(_context.t0);\n\n              case 9:\n              case "end":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 6]]);\n      }));\n\n      return function handleOk() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    var handleCancel = () => {\n      setIsModalVisible(false);\n    };\n\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useImperativeHandle)(ref, () => ({\n      showModal,\n      handleCancel\n    }));\n    return isModalVisible ? /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(antd_es_modal__WEBPACK_IMPORTED_MODULE_6__/* .default */ .Z, (0,_Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_7__/* .default */ .Z)((0,_Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_7__/* .default */ .Z)({\n      width: 800,\n      visible: isModalVisible,\n      destroyOnClose: true,\n      onOk: handleOk,\n      onCancel: handleCancel\n    }, modalProps), {}, {\n      children: /*#__PURE__*/(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(Component, (0,_Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_7__/* .default */ .Z)({}, props))\n    })) : \'\';\n  };\n}\n\n/* harmony default export */ __webpack_exports__["Z"] = (modalRef);\n\n//# sourceURL=webpack://timeline/./src/hocs/ModalRef.tsx?')},81731:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('/* harmony import */ var _Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(52663);\n/* harmony import */ var _Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(3911);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(67294);\n/* harmony import */ var swr__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(76568);\n/* harmony import */ var _utils_request__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(13918);\n\n\n// \u5c01\u88c5useSWR\uff1a\u8bf7\u6c42\u6570\u636e\n\n\n\nvar defaultOption = {\n  fetcher: _utils_request__WEBPACK_IMPORTED_MODULE_2__/* .default */ .Z,\n  revalidateOnFocus: false,\n  shouldRetryOnError: false\n};\n\nvar useSWR = (params1, configs) => {\n  console.log(\'params1\', params1);\n  console.log(\'configs\', configs);\n  var prevData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n\n  var _ref = configs || {},\n      requestParams = _ref.requestParams,\n      option = (0,_Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__/* .default */ .Z)(_ref, ["requestParams"]);\n\n  var config = (0,_Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__/* .default */ .Z)((0,_Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__/* .default */ .Z)({}, defaultOption), option); // if (requestParams) {\n  //   // \u4e3afetcher\u52a0\u5165\u53c2\u6570\n  //   config.fetcher = (url: string) => request(url, requestParams);\n  // }\n  // if (typeof configs === \'function\') {\n  //   config.fetcher = configs;\n  // }\n\n\n  var _useOldSWR = (0,swr__WEBPACK_IMPORTED_MODULE_1__/* .default */ .ZP)(params1, config),\n      data = _useOldSWR.data,\n      isValidating = _useOldSWR.isValidating,\n      rest = (0,_Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectWithoutProperties__WEBPACK_IMPORTED_MODULE_3__/* .default */ .Z)(_useOldSWR, ["data", "isValidating"]); // data\u4e3a\u7a7a\u65f6, \u4e0d\u91cd\u590d\u6e32\u67d3, \u907f\u514d\u8868\u683c\u7a81\u7136\u6ca1\u6570\u636e\n\n\n  if (data) {\n    prevData.current = data;\n  }\n\n  return (0,_Users_xinjn_work_project_ifeng_time_line_node_modules_umijs_babel_preset_umi_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_4__/* .default */ .Z)({\n    data: prevData.current,\n    isValidating\n  }, rest);\n};\n\n/* harmony default export */ __webpack_exports__["Z"] = (useSWR);\n\n//# sourceURL=webpack://timeline/./src/hooks/useSWR.ts?')},64509:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "default": function() { return /* binding */ timelineDetail; }\n});\n\n// EXTERNAL MODULE: ./node_modules/antd/es/row/style/index.js\nvar style = __webpack_require__(5317);\n// EXTERNAL MODULE: ./node_modules/antd/es/row/index.js\nvar row = __webpack_require__(87555);\n// EXTERNAL MODULE: ./node_modules/antd/es/col/style/index.js\nvar col_style = __webpack_require__(52222);\n// EXTERNAL MODULE: ./node_modules/antd/es/col/index.js\nvar col = __webpack_require__(65507);\n// EXTERNAL MODULE: ./node_modules/antd/es/alert/style/index.js\nvar alert_style = __webpack_require__(12966);\n// EXTERNAL MODULE: ./node_modules/antd/es/alert/index.js + 1 modules\nvar es_alert = __webpack_require__(43732);\n// EXTERNAL MODULE: ./node_modules/antd/es/space/style/index.js\nvar space_style = __webpack_require__(25324);\n// EXTERNAL MODULE: ./node_modules/antd/es/space/index.js + 1 modules\nvar space = __webpack_require__(45733);\n// EXTERNAL MODULE: ./node_modules/antd/es/button/style/index.js\nvar button_style = __webpack_require__(13753);\n// EXTERNAL MODULE: ./node_modules/antd/es/button/index.js\nvar es_button = __webpack_require__(48429);\n// EXTERNAL MODULE: ./node_modules/antd/es/message/style/index.js\nvar message_style = __webpack_require__(14643);\n// EXTERNAL MODULE: ./node_modules/antd/es/message/index.js + 1 modules\nvar message = __webpack_require__(92909);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(68699);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(38573);\n// EXTERNAL MODULE: ./node_modules/antd/es/modal/style/index.js\nvar modal_style = __webpack_require__(26780);\n// EXTERNAL MODULE: ./node_modules/antd/es/modal/index.js + 7 modules\nvar modal = __webpack_require__(86444);\n// EXTERNAL MODULE: ./node_modules/antd/es/collapse/style/index.js\nvar collapse_style = __webpack_require__(49826);\n// EXTERNAL MODULE: ./node_modules/antd/es/collapse/index.js + 6 modules\nvar collapse = __webpack_require__(14285);\n// EXTERNAL MODULE: ./node_modules/antd/es/tabs/style/index.js\nvar tabs_style = __webpack_require__(84786);\n// EXTERNAL MODULE: ./node_modules/antd/es/tabs/index.js + 15 modules\nvar tabs = __webpack_require__(52311);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(94043);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(67294);\n// EXTERNAL MODULE: ./src/pages/timelineDetail/index.less?modules\nvar timelineDetailmodules = __webpack_require__(76231);\nvar timelineDetailmodules_default = /*#__PURE__*/__webpack_require__.n(timelineDetailmodules);\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/ExclamationCircleOutlined.js + 1 modules\nvar ExclamationCircleOutlined = __webpack_require__(57119);\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/WarningOutlined.js + 1 modules\nvar WarningOutlined = __webpack_require__(21796);\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/ReloadOutlined.js + 1 modules\nvar ReloadOutlined = __webpack_require__(59879);\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js + 1 modules\nvar react_router = __webpack_require__(30112);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(87748);\n// EXTERNAL MODULE: ./src/asset/dict.js\nvar dict = __webpack_require__(10773);\n// EXTERNAL MODULE: ./src/hooks/useSWR.ts\nvar hooks_useSWR = __webpack_require__(81731);\n// EXTERNAL MODULE: ./src/utils/request/index.ts + 1 modules\nvar utils_request = __webpack_require__(13918);\n// EXTERNAL MODULE: ./node_modules/qs/lib/index.js\nvar lib = __webpack_require__(92090);\n;// CONCATENATED MODULE: ./src/pages/timelineDetail/services.ts\n/* provided dependency */ var process = __webpack_require__(82195);\n\n\n\n\n\n\n\nvar basePath = process[\'CONFIG\'].basePath;\nvar useTimelineParties = timelineId => {\n  // return useHookSWR((`${ basePath }/timelineApi/back/api/timelines/${ timelineId }/parties`), {\n  //   requestParams: {\n  //     withoutCheckCode: true\n  //   }\n  // });\n  var mockData = {\n    data: [{\n      color: \'#FE9620\',\n      id: 213,\n      name: \'\u6d4b\u6d4b\',\n      published: 0,\n      status: 1\n    }],\n    error: undefined,\n    isValidating: false,\n    mutate: () => {}\n  };\n  return mockData;\n};\nvar useNodeList = (timelineId, status) => {\n  // return useHookSWR((`${ basePath }/timelineApi/back/api/timelines/${ timelineId }/nodes?status=${ status }`), {\n  //   requestParams: {\n  //     withoutCheckCode: true\n  //   }\n  // });\n  var mockData = {\n    data: [{\n      base62Id: \'8EIS5jI8cLB\',\n      id: \'6907943191199096889\',\n      likeConfig: 1,\n      nodeTime: 1647513896,\n      party: {\n        color: \'#FE9620\',\n        id: 213,\n        name: \'\u6d4b\u6d4b\',\n        order: 0,\n        published: 0,\n        status: 1,\n        timelineId: \'6907943191199096884\'\n      },\n      partyId: 213,\n      published: 0,\n      status: 1,\n      timeType: 1,\n      title: \'111\'\n    }, {\n      base62Id: \'8EIS5jI8cL7\',\n      id: \'6907943191199096885\',\n      likeConfig: 2,\n      nodeTime: 1638271545,\n      party: {\n        color: \'#FE9620\',\n        id: 213,\n        name: \'\u6d4b\u6d4b\',\n        order: 0,\n        published: 0,\n        status: 1,\n        timelineId: \'6907943191199096884\'\n      },\n      partyId: 213,\n      published: 0,\n      status: 1,\n      timeType: 1,\n      title: \'111\'\n    }, {\n      base62Id: \'8EIS5jI8cLA\',\n      id: \'6907943191199096888\',\n      likeConfig: 2,\n      nodeTime: 1638271545,\n      party: {\n        color: \'#FE9620\',\n        id: 213,\n        name: \'\u6d4b\u6d4b\',\n        order: 0,\n        published: 0,\n        status: 1,\n        timelineId: \'6907943191199096884\'\n      },\n      partyId: 213,\n      published: 0,\n      status: 1,\n      timeType: 1,\n      title: \'111\'\n    }],\n    error: undefined,\n    isValidating: false,\n    mutate: () => {}\n  };\n  return mockData;\n};\nvar deleteNodeApi = nodeId => {\n  return (0,utils_request/* default */.Z)("".concat(basePath, "/timelineApi/back/api/nodes/").concat(nodeId), {\n    method: \'DELETE\',\n    withoutCheckCode: true\n  });\n};\nvar importNodeApi = nodeId => {\n  return (0,utils_request/* default */.Z)("".concat(basePath, "/timelineApi/back/api/nodes/").concat(nodeId), {\n    method: \'POST\',\n    withoutCheckCode: true\n  });\n};\nvar saveNodeApi = params => {\n  return request("".concat(basePath, "/timelineApi/back/api/nodes"), {\n    method: \'POST\',\n    body: params,\n    withoutCheckCode: true\n  });\n};\nvar getNodeDetailApi = nodeId => {\n  return request("".concat(basePath, "/timelineApi/back/api/nodes/").concat(nodeId), {\n    withoutCheckCode: true\n  });\n}; // \u83b7\u53d6\u540c\u65f6\u7f16\u8f91\u7684\u4eba\n\nfunction useConflictPeople(type, id) {\n  return (0,hooks_useSWR/* default */.Z)(id ? "".concat(basePath, "/ucms/api/conflict/check?url=").concat(type, "_").concat(id) : null, {\n    refreshInterval: 10000\n  });\n} // \u83b7\u53d6\u8282\u70b9\u4e0e\u7206\u6599\u8be6\u60c5\n\nvar useNodeDetailApi = params => {\n  var nodeId = params.nodeId,\n      factId = params.factId;\n  var url = \'\';\n\n  if (nodeId) {\n    url = "".concat(basePath, "/timelineApi/back/api/nodes/").concat(nodeId);\n  } else if (factId) {\n    url = "".concat(basePath, "/timelineApi/back/api/exposures/").concat(factId, "/info");\n  } else {\n    url = null;\n  }\n\n  return useHookSWR(url, {\n    requestParams: {\n      withoutCheckCode: true\n    }\n  });\n}; // \u83b7\u53d6\u6587\u7ae0\u4fe1\u606f\n\nfunction getArtInfo(params) {\n  return request("".concat(basePath, "/ucms/newfanapi/catchData?").concat(stringify(params)));\n} // \u83b7\u53d6\u65f6\u95f4\u7ebf\u4fe1\u606f\n\nfunction getTimelineInfoApi(id) {\n  // return request<TimelineInfoJson>(`${basePath}/timelineApi/back/api/timelines/${id}`);\n  var mockData = {\n    allowComment: 1,\n    base62Id: \'8EIS5jI8cL6\',\n    clientDisplayFormat: 1,\n    createTime: 1647426959,\n    creator: \'jiajx3\',\n    displayTitle: \'13223\',\n    finishStatus: 0,\n    h5DisplayFormat: 1,\n    id: \'6907943191199096884\',\n    likeConfig: 1,\n    pcBackground: {},\n    pcDisplayFormat: 1,\n    publishStatus: 0,\n    showDanmu: 1,\n    timeType: 1,\n    title: \'\u6d4b\u8bd5\u704c\u8bc4\',\n    type: \'\u65e0\',\n    ucmsInfo: {\n      clientStyle: \'singletitle\',\n      thumbnails: []\n    },\n    updateTime: 1654509573,\n    updated: 1,\n    updater: \'chenjy3\',\n    version: 2\n  };\n  return mockData;\n} // \u65f6\u95f4\u7ebf\u4e0a\u7ebf\n\nfunction setTimelineOnlineApi(id) {\n  return (0,utils_request/* default */.Z)("".concat(basePath, "/timelineApi/back/api/timelines/").concat(id, "/release"), {\n    method: \'POST\',\n    withoutCheckCode: true\n  });\n}\nvar getNodeListApi = (timelineId, status) => {\n  return (0,utils_request/* default */.Z)("".concat(basePath, "/timelineApi/back/api/timelines/").concat(timelineId, "/nodes?status=").concat(status), {\n    withoutCheckCode: true\n  });\n};\nvar getNodeHistoryApi = params => {\n  var nodeId = params.nodeId,\n      logQuery = params.logQuery;\n  return request("".concat(basePath, "/timelineApi/back/api/history/list?tableName=node&tableId=").concat(nodeId), {\n    method: \'POST\',\n    body: {\n      pagination: logQuery,\n      query: {\n        tableName: \'node\',\n        tableId: nodeId\n      }\n    },\n    withoutCheckCode: true\n  });\n};\nvar getNodeLogListApi = params => {\n  var nodeId = params.nodeId,\n      page = params.page,\n      size = params.size;\n  return (0,utils_request/* default */.Z)("".concat(basePath, "/timelineApi/back/api/node/").concat(nodeId, "/logs?page=").concat(page, "&size=").concat(size), {\n    withoutCheckCode: true\n  });\n}; // \u83b7\u53d6\u4e92\u52a8\u6570\u636e\n\nvar getLikeCountApi = ids => {\n  return (0,utils_request/* default */.Z)("".concat(basePath, "/interact/admin/subjectcount/batchQueryCountData?appId=", 10, "&ids=").concat(ids));\n}; // \u8bbe\u7f6e\u865a\u62df\u503c\n\nvar setLikeCountApi = params => {\n  var businessType = params.businessType,\n      appId = params.appId,\n      subjectId = params.subjectId,\n      fictitiousCount = params.fictitiousCount;\n\n  if (Array.isArray(businessType)) {\n    // const arr = [];\n    // businessType.forEach((item) => {\n    //   if (item.businessType === 21 || item.businessType === 20) {\n    //     arr.push(item);\n    //   }\n    // });\n    return Promise.all(fictitiousCount === null || fictitiousCount === void 0 ? void 0 : fictitiousCount.map(item => {\n      var obj = {\n        appId,\n        fictitiousCount: item.fictitiousLikeCount,\n        subjectId,\n        businessType: item.businessType\n      };\n      return (0,utils_request/* default */.Z)("".concat(basePath, "/interact/admin/subjectcount/setSubjectFictitiousLikeCount?").concat((0,lib.stringify)(obj)));\n    }));\n  } else {\n    return (0,utils_request/* default */.Z)("".concat(basePath, "/interact/admin/subjectcount/setSubjectFictitiousLikeCount?").concat((0,lib.stringify)(params)));\n  }\n};\nfunction saveAndStartCommentAdjust(_x) {\n  return _saveAndStartCommentAdjust.apply(this, arguments);\n} // \u540c\u6b65ucms\u6587\u7ae0\u8bc4\u8bba\n\nfunction _saveAndStartCommentAdjust() {\n  _saveAndStartCommentAdjust = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(requstParams) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return request("".concat(basePath, "/comment/saveAndStartCommentAdjust"), {\n              method: \'POST\',\n              body: {\n                body: _objectSpread(_objectSpread({}, requstParams), {}, {\n                  appId: APP_ID\n                })\n              }\n            });\n\n          case 2:\n            return _context.abrupt("return", _context.sent);\n\n          case 3:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _saveAndStartCommentAdjust.apply(this, arguments);\n}\n\nfunction setCommentSync(subjectId, ucmsid) {\n  return request("".concat(basePath, "/comment/commentSync/tempTimeLineCommentSync?subjectId=").concat(subjectId, "&docId=").concat(ucmsid));\n} // \u89e3\u6790\u5730\u5740\n\nfunction getLinkUcmsId(url) {\n  return request("".concat(basePath, "/ucms/api/doc/ext/parseUcmsUrl?ucmsurl=").concat(encodeURIComponent(url)));\n}\n// EXTERNAL MODULE: ./node_modules/antd/es/spin/style/index.js\nvar spin_style = __webpack_require__(58210);\n// EXTERNAL MODULE: ./node_modules/antd/es/spin/index.js\nvar spin = __webpack_require__(87240);\n// EXTERNAL MODULE: ./node_modules/antd/es/popconfirm/style/index.js\nvar popconfirm_style = __webpack_require__(43623);\n// EXTERNAL MODULE: ./node_modules/antd/es/popconfirm/index.js\nvar popconfirm = __webpack_require__(28930);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(52663);\n// EXTERNAL MODULE: ./node_modules/react-beautiful-dnd/dist/react-beautiful-dnd.esm.js + 25 modules\nvar react_beautiful_dnd_esm = __webpack_require__(75325);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(3911);\n;// CONCATENATED MODULE: ./src/components/Configuration/services.ts\n/* provided dependency */ var services_process = __webpack_require__(82195);\n\n\n\n\nvar services_basePath = services_process[\'CONFIG\'].basePath; // \u5404\u65b9\u914d\u7f6e\u5217\u8868 GET /back/api/timelines/{id}/parties\n\nvar useGetConfigList = id => {\n  return useSWR(id ? ["".concat(services_basePath, "/timelineApi/back/api/timelines/").concat(id, "/parties"), id] : null);\n}; // \u65b0\u589e\u914d\u7f6e POST /back/api/timelines/{id}/parties  /back/api/timelines/{timelineId}/parties\n\nfunction addConfig(params) {\n  var timeLineId = params.timeLineId,\n      reset = (0,objectWithoutProperties/* default */.Z)(params, ["timeLineId"]);\n\n  return (0,utils_request/* default */.Z)("".concat(services_basePath, "/timelineApi/back/api/timelines/").concat(timeLineId, "/parties"), {\n    method: \'POST\',\n    body: (0,objectSpread2/* default */.Z)({}, reset)\n  });\n} // \u5220\u9664\u914d\u7f6e DELETE /back/api/timelines/{timelineId}/parties/{partyId} /back/api/timelines/parties/{partyId}\n\nfunction deleteConfig(_ref) {\n  var timeLineId = _ref.timeLineId,\n      partyId = _ref.partyId;\n  return (0,utils_request/* default */.Z)("".concat(services_basePath, "/timelineApi/back/api/timelines/parties/").concat(partyId), {\n    method: \'DELETE\'\n  });\n}\n// \u79fb\u52a8\u914d\u7f6e /back/api/timelines/parties/movement\nfunction moveConfig(params) {\n  return (0,utils_request/* default */.Z)("".concat(services_basePath, "/timelineApi/back/api/timelines/parties/movement"), {\n    method: \'POST\',\n    body: params\n  });\n}\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/EditOutlined.js + 1 modules\nvar EditOutlined = __webpack_require__(8212);\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/CloseOutlined.js + 1 modules\nvar CloseOutlined = __webpack_require__(54549);\n// EXTERNAL MODULE: ./src/components/Configuration/index.less?modules\nvar Configurationmodules = __webpack_require__(17656);\nvar Configurationmodules_default = /*#__PURE__*/__webpack_require__.n(Configurationmodules);\n// EXTERNAL MODULE: ./node_modules/antd/es/select/style/index.js\nvar select_style = __webpack_require__(97140);\n// EXTERNAL MODULE: ./node_modules/antd/es/select/index.js + 30 modules\nvar es_select = __webpack_require__(98160);\n// EXTERNAL MODULE: ./node_modules/antd/es/input/style/index.js\nvar input_style = __webpack_require__(68137);\n// EXTERNAL MODULE: ./node_modules/antd/es/input/index.js + 16 modules\nvar input = __webpack_require__(13733);\n// EXTERNAL MODULE: ./node_modules/antd/es/form/style/index.js\nvar form_style = __webpack_require__(67604);\n// EXTERNAL MODULE: ./node_modules/antd/es/form/index.js + 16 modules\nvar es_form = __webpack_require__(23972);\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(85893);\n;// CONCATENATED MODULE: ./src/components/Configuration/EditConfigModal.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction EditConfigModal(props) {\n  var targetConfig = props.targetConfig,\n      visible = props.visible,\n      handleCancel = props.handleCancel,\n      refresh = props.refresh,\n      timeLineId = props.timeLineId,\n      usedColors = props.usedColors;\n\n  var _Form$useForm = es_form/* default.useForm */.Z.useForm(),\n      _Form$useForm2 = (0,slicedToArray/* default */.Z)(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  (0,react.useEffect)(() => {\n    form.setFieldsValue(targetConfig);\n  }, [form, targetConfig]);\n  var handleAddConfig = (0,react.useCallback)( /*#__PURE__*/(0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee() {\n    var values, res;\n    return regenerator_default().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return form.validateFields();\n\n          case 3:\n            values = _context.sent;\n            _context.next = 6;\n            return addConfig((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, values), {}, {\n              timeLineId,\n              id: targetConfig === null || targetConfig === void 0 ? void 0 : targetConfig.id\n            }));\n\n          case 6:\n            res = _context.sent;\n            refresh && refresh();\n            handleCancel && handleCancel();\n            _context.next = 14;\n            break;\n\n          case 11:\n            _context.prev = 11;\n            _context.t0 = _context["catch"](0);\n\n            message.default.error(_context.t0 === null || _context.t0 === void 0 ? void 0 : _context.t0.message);\n\n          case 14:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[0, 11]]);\n  })), [form, handleCancel, refresh, targetConfig, timeLineId]); // \u4e0d\u9650\u5236\u4e2a\u6570\u4e0e\u989c\u8272\n  // const colorOptions = useMemo(() => {\n  //   const noUsedColors = COLORS.filter((item: string) => !new Set(usedColors).has(item));\n  //   return COLORS.map((item: string) => ({ label: <span style={{ color: item }}>{item}</span>, value: item }));\n  // }, [usedColors]);\n\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(modal/* default */.Z, {\n    width: 800,\n    visible: visible,\n    destroyOnClose: true,\n    onOk: handleAddConfig,\n    onCancel: handleCancel,\n    title: targetConfig !== null && targetConfig !== void 0 && targetConfig.id ? \'\u7f16\u8f91\u914d\u7f6e\' : \'\u65b0\u589e\u914d\u7f6e\',\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(es_form/* default */.Z, {\n      form: form,\n      labelCol: {\n        span: 4\n      },\n      wrapperCol: {\n        span: 16\n      },\n      initialValues: {\n        remember: true\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default.Item */.Z.Item, {\n        label: "\\u6807\\u7B7E\\u540D\\u79F0",\n        name: "name",\n        rules: [{\n          required: true,\n          message: \'\u8bf7\u8f93\u5165\u957f\u5ea6\u5c0f\u4e8e 10 \u7684\u540d\u79f0!\',\n          max: 10\n        }],\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(input/* default */.Z, {})\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default.Item */.Z.Item, {\n        label: "\\u989C\\u8272",\n        name: "color",\n        rules: [{\n          required: true,\n          message: \'\u8bf7\u9009\u62e9\u989c\u8272!\'\n        }],\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(es_select/* default */.Z, {\n          options: dict/* COLORS.map */.DM.map(item => ({\n            label: /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n              style: {\n                color: item\n              },\n              children: item\n            }),\n            value: item\n          }))\n        })\n      })]\n    })\n  });\n}\n\n/* harmony default export */ var Configuration_EditConfigModal = (EditConfigModal);\n// EXTERNAL MODULE: ./node_modules/classnames/index.js\nvar classnames = __webpack_require__(35510);\nvar classnames_default = /*#__PURE__*/__webpack_require__.n(classnames);\n;// CONCATENATED MODULE: ./src/components/Configuration/functions.ts\nfunction changeSiteList(params) {\n  var from = params.from,\n      to = params.to,\n      list = params.list,\n      draggableId = params.draggableId;\n  var newList = JSON.parse(JSON.stringify(list));\n  var targetItem = list.find(item => String(item === null || item === void 0 ? void 0 : item.id) === draggableId); // \u4f4d\u7f6e\u6ca1\u53d8\n\n  if (from === to) return list; // \u4ece\u5c0f\u5230\u5927, \u4ece\u5927\u5230\u5c0f\n\n  newList.splice(from, 1);\n  newList.splice(to, 0, targetItem);\n  return newList;\n}\n;// CONCATENATED MODULE: ./src/components/Configuration/index.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// \u6c34\u5e73\u6837\u5f0f\nvar grid = 8;\n\nvar getItemStyle = (isDragging, draggableStyle) => (0,objectSpread2/* default */.Z)({}, draggableStyle);\n\nvar getListStyle = isDraggingOver => ({\n  // border: isDraggingOver ? \'1px solid #b9deff\' : \'none\',\n  backgroundColor: isDraggingOver ? \'#e1f1ff\' : \'transparent\',\n  display: \'flex\',\n  overflow: \'auto\',\n  padding: \'0px 8px\',\n  flexWrap: \'wrap\'\n});\n\nvar Configuration = props => {\n  var timeLineId = props.timeLineId,\n      configList = props.configList,\n      _props$configLoading = props.configLoading,\n      configLoading = _props$configLoading === void 0 ? false : _props$configLoading,\n      refresh = props.refresh,\n      value = props.value,\n      onChange = props.onChange,\n      id = props.id,\n      _props$canSelect = props.canSelect,\n      canSelect = _props$canSelect === void 0 ? false : _props$canSelect,\n      _props$title = props.title,\n      title = _props$title === void 0 ? \'\u5404\u65b9\u914d\u7f6e\uff1a\' : _props$title,\n      hiddenTitle = props.hiddenTitle,\n      _props$maxLen = props.maxLen,\n      maxLen = _props$maxLen === void 0 ? 5 : _props$maxLen;\n\n  var _useState = (0,react.useState)(false),\n      _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n      modalVisible = _useState2[0],\n      setModalVisible = _useState2[1];\n\n  var _useState3 = (0,react.useState)({}),\n      _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n      targetConfig = _useState4[0],\n      serTargetConfig = _useState4[1];\n\n  var _useState5 = (0,react.useState)(false),\n      _useState6 = (0,slicedToArray/* default */.Z)(_useState5, 2),\n      loading = _useState6[0],\n      setLoading = _useState6[1];\n\n  var dragedList = (0,react.useRef)(configList);\n  (0,react.useEffect)(() => {\n    dragedList.current = configList;\n  }, [configList]);\n  var handleDelete = (0,react.useCallback)( /*#__PURE__*/function () {\n    var _ref = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee(partyId) {\n      var res;\n      return regenerator_default().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return deleteConfig({\n                timeLineId,\n                partyId\n              });\n\n            case 3:\n              res = _context.sent;\n              refresh();\n              _context.next = 10;\n              break;\n\n            case 7:\n              _context.prev = 7;\n              _context.t0 = _context["catch"](0);\n              console.error(_context.t0 === null || _context.t0 === void 0 ? void 0 : _context.t0.message);\n\n            case 10:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 7]]);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), [refresh, timeLineId]); // eslint-disable-next-line @typescript-eslint/typedef\n\n  var handleShowModal = (0,react.useCallback)(function () {\n    var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    serTargetConfig(config);\n    setModalVisible(true);\n  }, []);\n  var handleHiddenModal = (0,react.useCallback)(() => {\n    setModalVisible(false);\n  }, []); // \u4e0d\u9650\u5236\u914d\u7f6e\u4e2a\u6570\u4e0e\u989c\u8272\n  // const usedColors = useMemo(() => {\n  //   return configList?.reduce((pre: string[], item: ConfigItem ) => {\n  //     pre.push(item.color);\n  //     return pre;\n  //   }, []);\n  // }, [configList]);\n\n  var onDragEnd = /*#__PURE__*/function () {\n    var _ref2 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee2(result) {\n      var destination, source, draggableId, newList, res;\n      return regenerator_default().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              destination = result.destination, source = result.source, draggableId = result.draggableId;\n              _context2.prev = 1;\n              setLoading(true); // \u9632\u6b62\u9875\u9762\u6570\u636e\u95ea\u52a8\n\n              newList = changeSiteList({\n                from: (source === null || source === void 0 ? void 0 : source.index) || 0,\n                to: (destination === null || destination === void 0 ? void 0 : destination.index) || 0,\n                list: configList,\n                draggableId\n              });\n              dragedList.current = newList;\n              _context2.next = 7;\n              return moveConfig({\n                id: draggableId,\n                from: (source === null || source === void 0 ? void 0 : source.index) || 0,\n                to: (destination === null || destination === void 0 ? void 0 : destination.index) || 0\n              });\n\n            case 7:\n              res = _context2.sent;\n              refresh(newList);\n              _context2.next = 15;\n              break;\n\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2["catch"](1);\n              // \u63a5\u53e3\u62a5\u9519\u65f6\uff0c\u8fd8\u539f\u5217\u8868\u6570\u636e\n              dragedList.current = configList;\n              console.error(_context2.t0 === null || _context2.t0 === void 0 ? void 0 : _context2.t0.message);\n\n            case 15:\n              _context2.prev = 15;\n              setLoading(false);\n              return _context2.finish(15);\n\n            case 18:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[1, 11, 15, 18]]);\n    }));\n\n    return function onDragEnd(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n    id: id,\n    children: /*#__PURE__*/(0,jsx_runtime.jsx)(spin/* default */.Z, {\n      spinning: configLoading || loading,\n      children: /*#__PURE__*/(0,jsx_runtime.jsxs)(row/* default */.Z, {\n        children: [modalVisible ? /*#__PURE__*/(0,jsx_runtime.jsx)(Configuration_EditConfigModal, {\n          targetConfig: targetConfig,\n          visible: modalVisible,\n          handleCancel: handleHiddenModal,\n          refresh: refresh,\n          timeLineId: timeLineId // \u4e0d\u9650\u5236\u4e2a\u6570\u4e0e\u9650\u5236\n          // usedColors={ usedColors }\n\n        }) : \'\', hiddenTitle ? undefined : /*#__PURE__*/(0,jsx_runtime.jsx)(col/* default */.Z, {\n          span: 2,\n          children: title\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(col/* default */.Z, {\n          span: 22,\n          children: /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n            className: (Configurationmodules_default()).configBox,\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.Z, {\n              size: "small",\n              type: "primary",\n              onClick: () => handleShowModal(),\n              children: "\\u6DFB\\u52A0"\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(react_beautiful_dnd_esm/* DragDropContext */.Z5, {\n              onDragEnd: onDragEnd,\n              children: /*#__PURE__*/(0,jsx_runtime.jsx)(react_beautiful_dnd_esm/* Droppable */.bK, {\n                droppableId: "droppable",\n                direction: "horizontal",\n                children: (providedParent, snapshot) => {\n                  var _dragedList$current;\n\n                  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, providedParent.droppableProps), {}, {\n                    style: getListStyle(snapshot.isDraggingOver),\n                    ref: providedParent.innerRef,\n                    children: [(_dragedList$current = dragedList.current) === null || _dragedList$current === void 0 ? void 0 : _dragedList$current.map((item, index) => /*#__PURE__*/(0,jsx_runtime.jsx)(react_beautiful_dnd_esm/* Draggable */._l, {\n                      draggableId: String(item.id),\n                      index: index,\n                      children: provided => /*#__PURE__*/(0,jsx_runtime.jsx)("div", (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({\n                        ref: provided.innerRef\n                      }, provided.draggableProps), provided.dragHandleProps), {}, {\n                        style: getItemStyle(snapshot.isDragging, provided.draggableProps.style),\n                        index: index,\n                        data_use: "inline",\n                        children: /*#__PURE__*/(0,jsx_runtime.jsxs)("p", {\n                          onClick: () => canSelect ? onChange && onChange(item.id) : null,\n                          className: classnames_default()((Configurationmodules_default()).configTag, {\n                            [(Configurationmodules_default()).selectedTag]: value === (item === null || item === void 0 ? void 0 : item.id),\n                            [(Configurationmodules_default()).showTag]: item === null || item === void 0 ? void 0 : item.show\n                          }),\n                          style: {\n                            borderColor: item === null || item === void 0 ? void 0 : item.color,\n                            color: value === (item === null || item === void 0 ? void 0 : item.id) ? \'#fff\' : item === null || item === void 0 ? void 0 : item.color,\n                            backgroundColor: value === (item === null || item === void 0 ? void 0 : item.id) ? item === null || item === void 0 ? void 0 : item.color : \'#fff\'\n                          },\n                          children: [item.name, canSelect ? undefined : /*#__PURE__*/(0,jsx_runtime.jsxs)("span", {\n                            onClick: e => e.stopPropagation(),\n                            children: [/*#__PURE__*/(0,jsx_runtime.jsx)(EditOutlined/* default */.Z, {\n                              onClick: () => handleShowModal(item),\n                              className: (Configurationmodules_default()).tagIcon\n                            }), /*#__PURE__*/(0,jsx_runtime.jsx)(popconfirm/* default */.Z, {\n                              placement: "bottomRight",\n                              title: "\\u786E\\u8BA4\\u5220\\u9664\\u8BE5\\u914D\\u7F6E\\u5417\\uFF1F",\n                              onConfirm: () => handleDelete(item.id),\n                              okText: "\\u786E\\u5B9A",\n                              cancelText: "\\u53D6\\u6D88",\n                              children: /*#__PURE__*/(0,jsx_runtime.jsx)(CloseOutlined/* default */.Z, {\n                                className: (Configurationmodules_default()).tagIcon\n                              })\n                            })]\n                          })]\n                        })\n                      }))\n                    }, String(item.id))), providedParent.placeholder]\n                  }));\n                }\n              })\n            })]\n          })\n        })]\n      })\n    })\n  });\n};\n\n/* harmony default export */ var components_Configuration = (Configuration);\n// EXTERNAL MODULE: ./node_modules/antd/es/tooltip/style/index.js\nvar tooltip_style = __webpack_require__(81984);\n// EXTERNAL MODULE: ./node_modules/antd/es/tooltip/index.js + 3 modules\nvar tooltip = __webpack_require__(86865);\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/CloseCircleOutlined.js + 1 modules\nvar CloseCircleOutlined = __webpack_require__(73218);\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/CommentOutlined.js + 1 modules\nvar CommentOutlined = __webpack_require__(36928);\n// EXTERNAL MODULE: ./node_modules/@ant-design/icons/es/icons/LikeOutlined.js + 1 modules\nvar LikeOutlined = __webpack_require__(58812);\n// EXTERNAL MODULE: ./node_modules/@ifeng/plateform-queryTable/index.ts + 1 modules\nvar plateform_queryTable = __webpack_require__(95249);\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(56051);\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n// EXTERNAL MODULE: ./src/components/LogList/index.tsx\nvar LogList = __webpack_require__(78895);\n// EXTERNAL MODULE: ./src/components/CopyId.tsx\nvar CopyId = __webpack_require__(73643);\n// EXTERNAL MODULE: ./node_modules/antd/es/input-number/style/index.js\nvar input_number_style = __webpack_require__(11826);\n// EXTERNAL MODULE: ./node_modules/antd/es/input-number/index.js + 12 modules\nvar input_number = __webpack_require__(8961);\n;// CONCATENATED MODULE: ./src/pages/timelineDetail/components/InteractStatistic.tsx\n\n\n\n\n\n\n\n\n\n\nvar InteractStatistic = props => {\n  var value = props.value,\n      onChange = props.onChange,\n      originLikeData = props.originLikeData,\n      form = props.form,\n      nodeId = props.nodeId;\n  var values = form === null || form === void 0 ? void 0 : form.getFieldsValue();\n\n  var _ref = values || {},\n      likeConfig = _ref.likeConfig;\n\n  var _useState = (0,react.useState)(0),\n      _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n      realSupport = _useState2[0],\n      setRealSupport = _useState2[1];\n\n  var _useState3 = (0,react.useState)(0),\n      _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n      falseSupport = _useState4[0],\n      setFalseSupport = _useState4[1];\n\n  var _useState5 = (0,react.useState)(0),\n      _useState6 = (0,slicedToArray/* default */.Z)(_useState5, 2),\n      realAgainst = _useState6[0],\n      setRealAgainst = _useState6[1];\n\n  var _useState7 = (0,react.useState)(0),\n      _useState8 = (0,slicedToArray/* default */.Z)(_useState7, 2),\n      falseAgainst = _useState8[0],\n      setFalseAgainst = _useState8[1];\n\n  var _useState9 = (0,react.useState)(0),\n      _useState10 = (0,slicedToArray/* default */.Z)(_useState9, 2),\n      realCount = _useState10[0],\n      setRealCount = _useState10[1];\n\n  var _useState11 = (0,react.useState)(0),\n      _useState12 = (0,slicedToArray/* default */.Z)(_useState11, 2),\n      falseCount = _useState12[0],\n      setFalseCount = _useState12[1];\n\n  (0,react.useEffect)(() => {\n    var common = value === null || value === void 0 ? void 0 : value.find(item => (item === null || item === void 0 ? void 0 : item.businessType) === parseInt(likeConfig));\n    var support = value === null || value === void 0 ? void 0 : value.find(item => (item === null || item === void 0 ? void 0 : item.businessType) === 21);\n    var against = value === null || value === void 0 ? void 0 : value.find(item => (item === null || item === void 0 ? void 0 : item.businessType) === 20);\n    var common_real = (common === null || common === void 0 ? void 0 : common.likeCount) || 0;\n    var common_false = (common === null || common === void 0 ? void 0 : common.fictitiousLikeCount) || 0;\n    var support_real = (support === null || support === void 0 ? void 0 : support.likeCount) || 0;\n    var support_false = (support === null || support === void 0 ? void 0 : support.fictitiousLikeCount) || 0;\n    var against_real = (against === null || against === void 0 ? void 0 : against.likeCount) || 0;\n    var against_false = (against === null || against === void 0 ? void 0 : against.fictitiousLikeCount) || 0;\n    setRealSupport(support_real);\n    setFalseSupport(support_false);\n    setRealAgainst(against_real);\n    setFalseAgainst(against_false);\n    setRealCount(common_real);\n    setFalseCount(common_false);\n  }, [value, likeConfig]);\n\n  var handleChangeFormItem = function handleChangeFormItem(inputValue) {\n    var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : parseInt(likeConfig);\n    var list = [...value];\n    var idx = parseInt(\'-1\');\n    value === null || value === void 0 ? void 0 : value.forEach((item, index) => {\n      if (item.businessType === type) {\n        idx = index;\n      }\n    });\n\n    if (idx >= 0) {\n      list[idx] = (0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, list[idx]), {}, {\n        fictitiousLikeCount: inputValue\n      });\n    } else {\n      if (parseInt(likeConfig) !== 2) {\n        list.push((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, value === null || value === void 0 ? void 0 : value[idx]), {}, {\n          businessType: parseInt(likeConfig),\n          fictitiousLikeCount: inputValue\n        }));\n      } else {\n        list.push((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, value === null || value === void 0 ? void 0 : value[idx]), {}, {\n          businessType: type,\n          fictitiousLikeCount: inputValue\n        }));\n      }\n    }\n\n    onChange && onChange(list);\n  };\n\n  var handleChangeCount = inputValue => {\n    setFalseCount(inputValue); // \u8bbe\u7f6e\u4fee\u6539\u8fc7\u7684\u9879\u7684\u503c\n\n    handleChangeFormItem(inputValue);\n  };\n\n  var handleChangeAgainstCount = inputValue => {\n    setFalseAgainst(inputValue);\n    handleChangeFormItem(inputValue, 20);\n  };\n\n  var handleChangeSupportCount = inputValue => {\n    setFalseSupport(inputValue);\n    handleChangeFormItem(inputValue, 21);\n  };\n\n  var handleValue = () => {\n    return /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n      children: parseInt(likeConfig) === 2 ? /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n        style: {\n          display: \'flex\',\n          flexDirection: \'column\'\n        },\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n          className: (timelineDetailmodules_default()).interactWrap,\n          style: {\n            marginBottom: \'10px\'\n          },\n          children: ["\\u5B9E\\u9645\\u9876\\uFF1A", realSupport, " \\xA0 \\u589E\\u52A0\\u9876\\uFF1A", /*#__PURE__*/(0,jsx_runtime.jsx)(input_number/* default */.Z, {\n            style: {\n              width: \'100px\'\n            },\n            min: 0,\n            disabled: !nodeId,\n            value: falseSupport,\n            onChange: handleChangeSupportCount\n          }), \' \', "\\xA0 \\u524D\\u53F0\\u5C55\\u793A\\u9876\\uFF1A", parseInt(realSupport) + parseInt(falseSupport) || 0]\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n          className: (timelineDetailmodules_default()).interactWrap,\n          children: ["\\u5B9E\\u9645\\u8E29\\uFF1A", realAgainst, " \\xA0 \\u589E\\u52A0\\u8E29\\uFF1A", /*#__PURE__*/(0,jsx_runtime.jsx)(input_number/* default */.Z, {\n            style: {\n              width: \'100px\'\n            },\n            min: 0,\n            disabled: !nodeId,\n            value: falseAgainst,\n            onChange: handleChangeAgainstCount\n          }), \' \', "\\xA0 \\u524D\\u53F0\\u5C55\\u793A\\u8E29\\uFF1A", parseInt(realAgainst) + parseInt(falseAgainst) || 0]\n        })]\n      }) : /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n        className: (timelineDetailmodules_default()).interactWrap,\n        children: ["\\u5B9E\\u9645\\uFF1A", realCount, " \\xA0 \\u589E\\u52A0\\uFF1A", /*#__PURE__*/(0,jsx_runtime.jsx)(input_number/* default */.Z, {\n          style: {\n            width: \'100px\'\n          },\n          min: 0,\n          disabled: !nodeId,\n          value: falseCount,\n          onChange: handleChangeCount\n        }), \' \', "\\xA0 \\u524D\\u53F0\\u5C55\\u793A\\uFF1A", parseInt(realCount) + parseInt(falseCount) || 0]\n      })\n    });\n  };\n\n  (0,react.useEffect)(() => {\n    // \u5207\u6362\u4e92\u52a8\u9009\u9879\u65f6\u5c06\u6570\u636e\u590d\u539f\n    onChange && onChange(originLikeData);\n    handleValue();\n  }, [parseInt(likeConfig)]);\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: handleValue()\n  });\n};\n\n/* harmony default export */ var components_InteractStatistic = (InteractStatistic);\n;// CONCATENATED MODULE: ./src/pages/timelineDetail/components/LikeStatisticModal.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar LikeStatisticModal = props => {\n  var onCancel = props.onCancel,\n      onOk = props.onOk,\n      nodeId = props.nodeId,\n      likeConfig = props.likeConfig,\n      visible = props.visible;\n\n  var _useState = (0,react.useState)([]),\n      _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n      likeData = _useState2[0],\n      setLikeData = _useState2[1];\n\n  var _useState3 = (0,react.useState)(),\n      _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n      currentType = _useState4[0],\n      setCurrentType = _useState4[1];\n\n  var _Form$useForm = es_form/* default.useForm */.Z.useForm(),\n      _Form$useForm2 = (0,slicedToArray/* default */.Z)(_Form$useForm, 1),\n      form = _Form$useForm2[0]; // \u67e5\u8be2\u4e92\u52a8\u6570\u636e\n\n\n  var getLikeCount = /*#__PURE__*/function () {\n    var _ref = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee(id) {\n      var res;\n      return regenerator_default().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getLikeCountApi(id);\n\n            case 2:\n              res = _context.sent;\n\n              if ((res === null || res === void 0 ? void 0 : res.code) === 200) {\n                form === null || form === void 0 ? void 0 : form.setFieldsValue({\n                  statistic: res === null || res === void 0 ? void 0 : res.data\n                });\n                setLikeData(res === null || res === void 0 ? void 0 : res.data);\n              }\n\n            case 4:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getLikeCount(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  (0,react.useEffect)(() => {\n    setCurrentType(likeConfig);\n    form === null || form === void 0 ? void 0 : form.setFieldsValue({\n      likeConfig\n    });\n  }, [likeConfig]);\n  (0,react.useEffect)(() => {\n    getLikeCount(nodeId);\n  }, []);\n\n  var handleOk = () => {\n    var value = form === null || form === void 0 ? void 0 : form.getFieldsValue();\n    onOk(value);\n  };\n\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(modal/* default */.Z, {\n    title: "\\u4E92\\u52A8\\u6570\\u636E",\n    visible: visible,\n    onCancel: onCancel,\n    onOk: handleOk,\n    children: /*#__PURE__*/(0,jsx_runtime.jsxs)(es_form/* default */.Z, {\n      form: form,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default.Item */.Z.Item, {\n        name: "likeConfig",\n        label: "\\u4E92\\u52A8\\u7C7B\\u578B",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n          children: dict/* NODE_LIKE_CONFIG_STATUS */.Fo[currentType]\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(es_form/* default.Item */.Z.Item, {\n        name: "statistic",\n        label: "\\u4E92\\u52A8\\u6570\\u636E",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_InteractStatistic, {\n          form: form,\n          originLikeData: likeData,\n          nodeId: nodeId\n        })\n      })]\n    })\n  });\n};\n\n/* harmony default export */ var components_LikeStatisticModal = (LikeStatisticModal);\n;// CONCATENATED MODULE: ./src/pages/timelineDetail/components/NodeList.tsx\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar PAGESIZE = 10;\n\nvar NodeList = props => {\n  var status = props.status,\n      configuration = props.configuration,\n      handlePreview = props.handlePreview,\n      handleCancelPreview = props.handleCancelPreview,\n      handelChangeNodeVisible = props.handelChangeNodeVisible,\n      nodeList = props.nodeList,\n      load = props.load,\n      refresh = props.refresh,\n      getTimelineInfo = props.getTimelineInfo,\n      timelineInfo = props.timelineInfo;\n\n  var _useState = (0,react.useState)([]),\n      _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n      logList = _useState2[0],\n      setLogList = _useState2[1];\n\n  var _useState3 = (0,react.useState)(0),\n      _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n      LogTotal = _useState4[0],\n      setLogTotal = _useState4[1];\n\n  var _useState5 = (0,react.useState)(false),\n      _useState6 = (0,slicedToArray/* default */.Z)(_useState5, 2),\n      LogLoading = _useState6[0],\n      setLogLoading = _useState6[1];\n\n  var _useState7 = (0,react.useState)({\n    page: 1,\n    size: PAGESIZE\n  }),\n      _useState8 = (0,slicedToArray/* default */.Z)(_useState7, 2),\n      logQuery = _useState8[0],\n      setLogQuery = _useState8[1];\n\n  var _useState9 = (0,react.useState)(\'\'),\n      _useState10 = (0,slicedToArray/* default */.Z)(_useState9, 2),\n      currentLogId = _useState10[0],\n      setCurrentLogId = _useState10[1];\n\n  var _useState11 = (0,react.useState)(false),\n      _useState12 = (0,slicedToArray/* default */.Z)(_useState11, 2),\n      showLikeModal = _useState12[0],\n      setShowLikeModal = _useState12[1];\n\n  var _useState13 = (0,react.useState)(\'\'),\n      _useState14 = (0,slicedToArray/* default */.Z)(_useState13, 2),\n      currentNode = _useState14[0],\n      setCurrentNode = _useState14[1];\n\n  var _useState15 = (0,react.useState)(),\n      _useState16 = (0,slicedToArray/* default */.Z)(_useState15, 2),\n      currentType = _useState16[0],\n      setCurrentType = _useState16[1];\n\n  var _Form$useForm = es_form/* default.useForm */.Z.useForm(),\n      _Form$useForm2 = (0,slicedToArray/* default */.Z)(_Form$useForm, 1),\n      form = _Form$useForm2[0];\n\n  var logRef = (0,react.useRef)();\n  var handlecCnfirmDelete = (0,react.useCallback)( /*#__PURE__*/function () {\n    var _ref = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee(id) {\n      return regenerator_default().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return deleteNodeApi(id);\n\n            case 2:\n              message.default.success(\'\u64cd\u4f5c\u6210\u529f\');\n\n              refresh();\n              getTimelineInfo(); // \u8282\u70b9\u5220\u9664\u53d6\u6d88\u9884\u89c8\n\n              handleCancelPreview();\n\n            case 6:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }(), [refresh]);\n  var handlePreviewNode = (0,react.useCallback)(id => {\n    handlePreview && handlePreview(id);\n  }, [handlePreview]);\n\n  var handleClickNode = data => {\n    handelChangeNodeVisible(data.id);\n  };\n\n  var handleImport = /*#__PURE__*/function () {\n    var _ref2 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee2(data) {\n      var partyId, id;\n      return regenerator_default().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              partyId = data.partyId, id = data.id;\n\n              if (partyId) {\n                _context2.next = 4;\n                break;\n              }\n\n              message.default.warning(\'\u8be5\u8282\u70b9\u65e0\u5173\u8054\u914d\u7f6e\u65e0\u6cd5\u6062\u590d\uff0c\u8bf7\u4fee\u6539\u8282\u70b9\');\n\n              return _context2.abrupt("return");\n\n            case 4:\n              _context2.next = 6;\n              return importNodeApi(id);\n\n            case 6:\n              message.default.success(\'\u64cd\u4f5c\u6210\u529f\');\n\n              refresh();\n              getTimelineInfo();\n\n            case 9:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleImport(_x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  var getNodeLogList = /*#__PURE__*/function () {\n    var _ref3 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee3(nodeId) {\n      var _res$pagination;\n\n      var res;\n      return regenerator_default().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              setLogLoading(true);\n              _context3.next = 3;\n              return getNodeLogListApi((0,objectSpread2/* default */.Z)((0,objectSpread2/* default */.Z)({}, logQuery), {}, {\n                nodeId\n              }));\n\n            case 3:\n              res = _context3.sent;\n              setLogList((res === null || res === void 0 ? void 0 : res.list) || []);\n              setLogTotal((res === null || res === void 0 ? void 0 : (_res$pagination = res.pagination) === null || _res$pagination === void 0 ? void 0 : _res$pagination.total) || 0);\n              setLogLoading(false);\n\n            case 7:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function getNodeLogList(_x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  var handleShowLogModal = info => {\n    var _logRef$current;\n\n    (_logRef$current = logRef.current) === null || _logRef$current === void 0 ? void 0 : _logRef$current.showModal();\n    var id = info.id;\n    setCurrentLogId(id);\n    getNodeLogList(id);\n  };\n\n  var handleSearchLog = (0,react.useCallback)(params => {\n    var page = params.pagination;\n    setLogQuery({\n      page: page.current,\n      size: page.pageSize\n    });\n  }, []);\n  (0,react.useEffect)(() => {\n    currentLogId && getNodeLogList(currentLogId);\n  }, [logQuery]);\n\n  var handleTnteractStatistic = (id, likeConfig) => {\n    setShowLikeModal(true);\n    setCurrentNode(id);\n    setCurrentType(likeConfig);\n    form === null || form === void 0 ? void 0 : form.setFieldsValue({\n      likeConfig\n    });\n  };\n\n  var columns = (0,react.useMemo)(() => {\n    return [{\n      title: \'\u64cd\u4f5c\',\n      dataIndex: \'operate\',\n      key: \'operate\',\n      render: (text, record) => /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n        className: (timelineDetailmodules_default()).nodeListOpe,\n        children: [status === 1 ? /*#__PURE__*/(0,jsx_runtime.jsx)(popconfirm/* default */.Z, {\n          title: "\\u8BE5\\u8282\\u70B9\\u5C06\\u4ECE\\u5217\\u8868\\u5220\\u9664\\uFF0C\\u8FDB\\u5165\\u56DE\\u6536\\u7AD9",\n          onConfirm: () => {\n            handlecCnfirmDelete(record.id);\n          },\n          okText: "\\u786E\\u5B9A\\u5220\\u9664",\n          cancelText: "\\u53D6\\u6D88",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(CloseCircleOutlined/* default */.Z, {\n            style: {\n              fontSize: \'16px\',\n              cursor: \'pointer\'\n            }\n          })\n        }) : /*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.Z, {\n          size: "small",\n          type: "primary",\n          onClick: () => {\n            handleImport(record);\n          },\n          children: "\\u6062\\u590D"\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(tooltip/* default */.Z, {\n          title: "\\u8BC4\\u8BBA\\u7BA1\\u7406",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(react_router_dom/* Link */.rU, {\n            style: {\n              display: \'flex\'\n            },\n            target: "_blank",\n            to: "/nodeCommentManage?subjectId=".concat(record.base62Id, "&time=").concat(record.nodeTime, "&displayTitle=").concat(record === null || record === void 0 ? void 0 : record.title, "&id=").concat(timelineInfo === null || timelineInfo === void 0 ? void 0 : timelineInfo.base62Id),\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(CommentOutlined/* default */.Z, {\n              style: {\n                color: \'rgba(0, 0, 0, .85) \',\n                fontSize: \'16px\'\n              }\n            })\n          })\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(tooltip/* default */.Z, {\n          title: "\\u4E92\\u52A8\\u6570\\u636E",\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(LikeOutlined/* default */.Z, {\n            onClick: () => {\n              handleTnteractStatistic(record.base62Id, record.likeConfig);\n            }\n          })\n        })]\n      })\n    }, {\n      title: \'\u65f6\u95f4\',\n      dataIndex: \'nodeTime\',\n      key: \'nodeTime\',\n      render: text => moment_default()(text * 1000).format(\'YYYY-MM-DD HH:mm:ss\')\n    }, {\n      title: \'\u8282\u70b9\u6807\u9898\uff08\u70b9\u51fb\u7f16\u8f91\u5355\u4e2a\u8282\u70b9\uff09\',\n      dataIndex: \'title\',\n      key: \'title\',\n      width: \'500px\',\n      render: (text, record) => /*#__PURE__*/(0,jsx_runtime.jsxs)("span", {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n          onClick: () => {\n            handleClickNode(record);\n          },\n          children: text\n        }), "\\xA0", /*#__PURE__*/(0,jsx_runtime.jsx)(CopyId/* default */.Z, {\n          text: record.base62Id\n        })]\n      })\n    }, {\n      title: \'\u914d\u7f6e\',\n      dataIndex: \'party\',\n      key: \'party\',\n      filters: configuration,\n      onFilter: (value, record) => {\n        var _record$party;\n\n        return (record === null || record === void 0 ? void 0 : (_record$party = record.party) === null || _record$party === void 0 ? void 0 : _record$party.id) === value;\n      },\n      render: obj => /*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n        style: {\n          color: "".concat(obj === null || obj === void 0 ? void 0 : obj.color)\n        },\n        children: obj === null || obj === void 0 ? void 0 : obj.name\n      })\n    }, {\n      title: \'\u72b6\u6001\',\n      dataIndex: \'published\',\n      key: \'published\',\n      render: text => dict/* NODE_USE_STATUS */.Um[text]\n    }, {\n      title: \'\u65e5\u5fd7\',\n      dataIndex: \'logList\',\n      key: \'logList\',\n      render: (text, record) => /*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.Z, {\n        type: "link",\n        onClick: () => {\n          handleShowLogModal(record);\n        },\n        children: "\\u67E5\\u770B"\n      })\n    }];\n  }, [configuration, handlePreviewNode, handlecCnfirmDelete]);\n\n  var handleCancelShowLike = () => {\n    setShowLikeModal(false);\n  }; // \u8bbe\u7f6e\u865a\u62df\u4e92\u52a8\u503c\n\n\n  var handleSureLikeStatistic = /*#__PURE__*/function () {\n    var _ref4 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee4(values) {\n      var likeConfig, fictitiousCount, _values$statistic$fin, fictitiousLikeCount, params, result;\n\n      return regenerator_default().wrap(function _callee4$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              likeConfig = values.likeConfig; // likeconfig !== 2 \u76f4\u63a5\u8bf7\u6c42 businessType == likeconfig \u503c\u4e5f\u76f4\u63a5\u62ff\n              // likeconfig === 2 \u9700\u8981\u5355\u72ec\u8bbe\u7f6ebusinessType === 20/21 \u8c03\u4e24\u4e2a\u63a5\u53e3 \u503c\u4e3a\u62ff\u5230\u7684\u503c \u4f20\u4e2a\u6570\u7ec4\n\n              if (likeConfig !== 2) {\n                fictitiousLikeCount = (_values$statistic$fin = values.statistic.find(item => (item === null || item === void 0 ? void 0 : item.businessType) === parseInt(likeConfig))) === null || _values$statistic$fin === void 0 ? void 0 : _values$statistic$fin.fictitiousLikeCount;\n                fictitiousCount = fictitiousLikeCount;\n              } else {\n                fictitiousCount = [];\n                values.statistic.forEach(item => {\n                  if (item.businessType === 20 || item.businessType === 21) {\n                    fictitiousCount.push(item);\n                  }\n                });\n              }\n\n              params = {\n                appId: dict/* APP_ID */.AF,\n                fictitiousCount: fictitiousCount || 0,\n                subjectId: currentNode,\n                businessType: parseInt(likeConfig) === 2 ? values.statistic : likeConfig\n              };\n              _context4.next = 5;\n              return setLikeCountApi(params);\n\n            case 5:\n              result = _context4.sent;\n\n              if (Array.isArray(result)) {\n                result === null || result === void 0 ? void 0 : result.forEach(item => {\n                  message.default.info("\\u865A\\u62DF\\u503C\\uFF1A".concat(item.message));\n\n                  if (item.code === 200) {\n                    handleCancelShowLike();\n                  }\n                });\n              } else {\n                message.default.info("\\u865A\\u62DF\\u503C\\uFF1A".concat(result === null || result === void 0 ? void 0 : result.message));\n\n                if (result.code === 200) {\n                  handleCancelShowLike();\n                }\n              }\n\n            case 7:\n            case "end":\n              return _context4.stop();\n          }\n        }\n      }, _callee4);\n    }));\n\n    return function handleSureLikeStatistic(_x4) {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)(jsx_runtime.Fragment, {\n    children: [/*#__PURE__*/(0,jsx_runtime.jsx)(plateform_queryTable/* QueryTable */.U, {\n      notQueryWhilestart: true,\n      columns: columns,\n      rowKey: record => record.id,\n      list: nodeList || [],\n      total: 0,\n      loading: load\n    }), /*#__PURE__*/(0,jsx_runtime.jsx)(LogList/* default */.Z, {\n      list: logList,\n      total: LogTotal,\n      ref: logRef,\n      loading: LogLoading,\n      query: handleSearchLog,\n      modalProps: {\n        title: null,\n        footer: null,\n        modalProps: {\n          destroyOnClose: true\n        }\n      },\n      defaultPageSize: logQuery.size\n    }), showLikeModal && /*#__PURE__*/(0,jsx_runtime.jsx)(components_LikeStatisticModal, {\n      onCancel: handleCancelShowLike,\n      onOk: handleSureLikeStatistic,\n      nodeId: currentNode,\n      likeConfig: currentType,\n      visible: showLikeModal\n    })]\n  });\n};\n\n/* harmony default export */ var components_NodeList = (NodeList);\n;// CONCATENATED MODULE: ./src/pages/timelineDetail/components/CheckConflict.tsx\n\n\n\n\n\nfunction CheckConflict(props) {\n  var _conflictPepleJson$da;\n\n  var type = props.type,\n      id = props.id;\n\n  var _useConflictPeople = useConflictPeople(type, id),\n      conflictPepleJson = _useConflictPeople.data;\n\n  var conflictPeople = conflictPepleJson === null || conflictPepleJson === void 0 ? void 0 : (_conflictPepleJson$da = conflictPepleJson.data) === null || _conflictPepleJson$da === void 0 ? void 0 : _conflictPepleJson$da.map(item => item.cn).join(\',\');\n  return /*#__PURE__*/(0,jsx_runtime.jsx)(jsx_runtime.Fragment, {\n    children: conflictPeople ? /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n      style: {\n        color: \'red\'\n      },\n      children: "\\u3010\\u91CD\\u8981\\u63D0\\u793A\\u3011\\u5F53\\u524D\\u7F16\\u8F91\\u9875\\u9762\\u7684\\u8FD8\\u6709\\uFF1A".concat(conflictPeople)\n    }) : \'\'\n  });\n}\n\n/* harmony default export */ var components_CheckConflict = (CheckConflict);\n;// CONCATENATED MODULE: ./src/pages/timelineDetail/constant.ts\n// \u8282\u70b9\u6807\u9898\u5b57\u6570\u9650\u5236\nvar NODE_TITLE_MAX_LENGTH = 140; // \u63cf\u8ff0\u5b57\u6570\u9650\u5236\n\nvar TEXT_TO_IMG_MAX_LENGTH = 500; // \u5217\u8868Tab\n\nvar TAB_ARR = [{\n  name: \'\u524d\u53f0\u8282\u70b9\u5217\u8868\',\n  key: \'1\',\n  status: 1\n}, {\n  name: \'\u56de\u6536\u7ad9\u8282\u70b9\u5217\u8868\',\n  key: \'2\',\n  status: 0\n}];\n;// CONCATENATED MODULE: ./src/pages/timelineDetail/index.tsx\n/* provided dependency */ var timelineDetail_process = __webpack_require__(82195);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n // antd\u7ec4\u4ef6\n\n// antd-icons\n // umi\n\n // UI\u5c55\u793a\u5e38\u91cf\n\n // types:\u7c7b\u578b\u58f0\u660e\n\n// API\n // Components\n\n\n\n // import NodeLDetail from \'./components/NodeDetail\';\n// \u5e38\u91cf\n\n // \u83b7\u53d6antd \u9762\u677f\n\n\n\nvar TabPane = tabs/* default.TabPane */.Z.TabPane;\nvar Panel = collapse/* default.Panel */.Z.Panel;\nvar timelineDetail_confirm = modal/* default.confirm */.Z.confirm; // Tab\u5207\u6362\u7c7b\u578b\n\n// \u9879\u76ee\u914d\u7f6e\u4fe1\u606f\nvar configToken = timelineDetail_process.CONFIG.configToken;\n\nvar TimelineDetail = () => {\n  var _data$filter;\n\n  var shareUrl = configToken === \'prodToken\' ? dict.CLIENT : dict.CLIENT_TEST;\n  var pcShareUrl = configToken === \'prodToken\' ? dict.PC_PAGE : dict.PC_PAGE_TEST; // \u83b7\u53d6URL\u53c2\u6570:\u65f6\u95f4\u7ebfid\n\n  var params = (0,react_router/* useParams */.UO)(); // \u83b7\u53d6\u5404\u65b9\u914d\u7f6e\n\n  var _useTimelineParties = useTimelineParties(params.timelineId),\n      data = _useTimelineParties.data,\n      isValidating = _useTimelineParties.isValidating,\n      mutate = _useTimelineParties.mutate; // \u65f6\u95f4\u7ebf\u4fe1\u606f\n\n\n  var _useState = (0,react.useState)(),\n      _useState2 = (0,slicedToArray/* default */.Z)(_useState, 2),\n      timelineInfo = _useState2[0],\n      setTimelineInfo = _useState2[1]; // \u66f4\u65b0\u5e76\u53d1\u5e03\n\n\n  var _useState3 = (0,react.useState)(false),\n      _useState4 = (0,slicedToArray/* default */.Z)(_useState3, 2),\n      updateAndpublish = _useState4[0],\n      setUpdateAndpublish = _useState4[1]; // \u8282\u70b9\u72b6\u6001\n\n\n  var _useState5 = (0,react.useState)(1),\n      _useState6 = (0,slicedToArray/* default */.Z)(_useState5, 2),\n      nodeStatus = _useState6[0],\n      setNodeStatus = _useState6[1];\n\n  var _useNodeList = useNodeList(params.timelineId, nodeStatus),\n      nodeList = _useNodeList.data,\n      loadingNodeList = _useNodeList.isValidating,\n      refresh = _useNodeList.mutate;\n\n  var _useState7 = (0,react.useState)([]),\n      _useState8 = (0,slicedToArray/* default */.Z)(_useState7, 2),\n      configuration = _useState8[0],\n      setConfiguration = _useState8[1];\n\n  var _useState9 = (0,react.useState)(false),\n      _useState10 = (0,slicedToArray/* default */.Z)(_useState9, 2),\n      nodePreview = _useState10[0],\n      setNodePreview = _useState10[1];\n\n  var _useState11 = (0,react.useState)(\'\'),\n      _useState12 = (0,slicedToArray/* default */.Z)(_useState11, 2),\n      nodePreviewUrl = _useState12[0],\n      setNodePreviewUrl = _useState12[1]; // \u8bbe\u7f6e\u9ed8\u8ba4\u5c55\u5f00\u7684\u9884\u89c8\u9875\n\n\n  var _useState13 = (0,react.useState)([\'timeline\']),\n      _useState14 = (0,slicedToArray/* default */.Z)(_useState13, 2),\n      activeKey = _useState14[0],\n      setActiveKey = _useState14[1];\n\n  var _useState15 = (0,react.useState)(false),\n      _useState16 = (0,slicedToArray/* default */.Z)(_useState15, 2),\n      nodeVisible = _useState16[0],\n      setNodeVisible = _useState16[1];\n\n  var _useState17 = (0,react.useState)(),\n      _useState18 = (0,slicedToArray/* default */.Z)(_useState17, 2),\n      factId = _useState18[0],\n      setFactId = _useState18[1];\n\n  var _useState19 = (0,react.useState)(),\n      _useState20 = (0,slicedToArray/* default */.Z)(_useState19, 2),\n      nodeId = _useState20[0],\n      setNodeId = _useState20[1]; // \u83b7\u53d6\u5f53\u524d\u65f6\u95f4\u7ebf\u4fe1\u606f\n\n\n  var getTimelineInfo = /*#__PURE__*/function () {\n    var _ref = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee() {\n      var res;\n      return regenerator_default().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return getTimelineInfoApi(params === null || params === void 0 ? void 0 : params.timelineId);\n\n            case 2:\n              res = _context.sent;\n              setTimelineInfo(res);\n              setUpdateAndpublish(res !== null && res !== void 0 && res.updated ? true : false);\n\n            case 5:\n            case "end":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function getTimelineInfo() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  (0,react.useEffect)(() => {\n    getTimelineInfo();\n  }, []); // util\n  // \u5237\u65b0\n\n  var handleRefreshCallBack = newList => {\n    mutate(newList);\n    getTimelineInfo();\n  }; // \u8282\u70b9\u6539\u53d8\n\n\n  var handleChange = key => {\n    TAB_ARR.forEach(item => {\n      if (key === item.key) {\n        setNodeStatus(item.status);\n        return;\n      }\n    });\n  }; // \u8282\u70b9\u663e\u793a\n\n\n  var handelChangeNodeVisible = id => {\n    setNodeVisible(true);\n    setFactId(\'\');\n    id ? setNodeId(id) : setNodeId(\'\');\n  }; // \u64cd\u4f5c\u8282\u70b9\n\n\n  var handelAddNode = () => {\n    handelChangeNodeVisible();\n  }; // \u9884\u89c8\n\n\n  var handlePreview = id => {\n    setNodePreview(true); // TODO\uff1a\u66ff\u6362\u8282\u70b9\u9884\u89c8\u771f\u5b9e\u5730\u5740\n\n    setNodePreviewUrl("http://platform.ifeng.com:8035/wingcpt-log/".concat(id));\n  }; // \u53d6\u6d88\u9884\u89c8\n\n\n  var handleCancelPreview = () => {\n    setNodePreview(false);\n    setNodePreviewUrl(\'\');\n  }; // \u65f6\u95f4\u7ebf\u9884\u89c8\n\n\n  var handleTimelinePreview = () => {\n    if (document.getElementById(\'timelineMobile\')) {\n      document.getElementById(\'timelineMobile\').src = "".concat(shareUrl, "/").concat(params.timelineId);\n    }\n  };\n\n  var handleOnlineTimeline = /*#__PURE__*/function () {\n    var _ref2 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee2() {\n      var res;\n      return regenerator_default().wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return setTimelineOnlineApi(params === null || params === void 0 ? void 0 : params.timelineId);\n\n            case 2:\n              res = _context2.sent;\n\n              message.default.success(\'\u53d1\u5e03\u6210\u529f\');\n\n              getTimelineInfo();\n              refresh();\n              mutate();\n\n            case 7:\n            case "end":\n              return _context2.stop();\n          }\n        }\n      }, _callee2);\n    }));\n\n    return function handleOnlineTimeline() {\n      return _ref2.apply(this, arguments);\n    };\n  }(); // \u53d1\u5e03\n\n\n  var handelPublish = /*#__PURE__*/function () {\n    var _ref3 = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee3() {\n      var nodeListArr;\n      return regenerator_default().wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return getNodeListApi(params === null || params === void 0 ? void 0 : params.timelineId, 1);\n\n            case 2:\n              nodeListArr = _context3.sent;\n\n              if (!(nodeListArr !== null && nodeListArr !== void 0 && nodeListArr.length)) {\n                _context3.next = 7;\n                break;\n              }\n\n              // \u4e0b\u7ebf\u72b6\u6001\u4e0b\u53d1\u5e03\uff0c\u4e8c\u6b21\u786e\u8ba4\n              if (timelineInfo !== null && timelineInfo !== void 0 && timelineInfo.publishStatus) {\n                handleOnlineTimeline();\n              } else {\n                timelineDetail_confirm({\n                  title: \'\u8be5\u65f6\u95f4\u7ebf\u4e3a\u4e0b\u7ebf\u72b6\u6001\uff0c\u53d1\u5e03\u5219\u4e0a\u7ebf\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u53d1\u5e03\',\n                  icon: /*#__PURE__*/(0,jsx_runtime.jsx)(ExclamationCircleOutlined/* default */.Z, {}),\n\n                  onOk() {\n                    handleOnlineTimeline();\n                  }\n\n                });\n              }\n\n              _context3.next = 9;\n              break;\n\n            case 7:\n              message.default.warning(\'\u524d\u53f0\u5217\u8868\u4e3a\u7a7a \u65e0\u6cd5\u63d0\u4ea4\');\n\n              return _context3.abrupt("return");\n\n            case 9:\n            case "end":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function handelPublish() {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n    className: (timelineDetailmodules_default()).timelineDetailWrap,\n    children: [/*#__PURE__*/(0,jsx_runtime.jsxs)(space/* default */.Z, {\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)("a", {\n        href: "".concat(pcShareUrl).concat(timelineInfo === null || timelineInfo === void 0 ? void 0 : timelineInfo.base62Id, "?isFull=0&immersion=true&ifengsp=1"),\n        target: "_blank",\n        children: timelineInfo === null || timelineInfo === void 0 ? void 0 : timelineInfo.title\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.Z, {\n        size: "small",\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(react_router_dom/* Link */.rU, {\n          style: {\n            display: \'flex\'\n          },\n          target: "_blank",\n          to: "/nodeCommentManage?subjectId=".concat(timelineInfo === null || timelineInfo === void 0 ? void 0 : timelineInfo.base62Id, "&displayTitle=").concat(timelineInfo === null || timelineInfo === void 0 ? void 0 : timelineInfo.displayTitle, "&id=").concat(timelineInfo === null || timelineInfo === void 0 ? void 0 : timelineInfo.base62Id),\n          children: "\\u8BC4\\u8BBA\\u7BA1\\u7406"\n        })\n      })]\n    }), updateAndpublish && /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n      className: (timelineDetailmodules_default()).updateTip,\n      children: /*#__PURE__*/(0,jsx_runtime.jsx)(es_alert/* default */.Z, {\n        message: "\\u8BE5\\u66F4\\u65B0\\u7248\\u672C\\u6682\\u672A\\u53D1\\u5E03",\n        type: "error",\n        showIcon: true,\n        icon: /*#__PURE__*/(0,jsx_runtime.jsx)(WarningOutlined/* default */.Z, {})\n      })\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n      style: {\n        display: \'flex\',\n        justifyContent: \'space-between\'\n      },\n      children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n        style: {\n          flex: 2,\n          marginRight: \'20px\'\n        },\n        children: [/*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n          className: (timelineDetailmodules_default()).configWrap,\n          children: [/*#__PURE__*/(0,jsx_runtime.jsx)(components_Configuration, {\n            timeLineId: params.timelineId,\n            maxLen: 10,\n            configList: data === null || data === void 0 ? void 0 : data.filter(item => item.status === 1),\n            configLoading: isValidating,\n            refresh: handleRefreshCallBack\n          }), data !== null && data !== void 0 && data.filter(item => item.status !== 1).length ? /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n            style: {\n              marginTop: \'10px\'\n            },\n            children: ["\\u5DF2\\u5220\\u9664\\u914D\\u7F6E\\uFF1A", data === null || data === void 0 ? void 0 : data.filter(item => item.status !== 1).map(item => /*#__PURE__*/(0,jsx_runtime.jsx)("p", {\n              className: (timelineDetailmodules_default()).configTag,\n              children: item.name\n            }, item.id))]\n          }) : null, updateAndpublish && data !== null && data !== void 0 && (_data$filter = data.filter(item => item.published === 0)) !== null && _data$filter !== void 0 && _data$filter.length ? /*#__PURE__*/(0,jsx_runtime.jsx)(es_alert/* default */.Z, {\n            message: "\\u914D\\u7F6E\\u5DF2\\u66F4\\u65B0\\u524D\\u53F0\\u672A\\u751F\\u6548\\uFF0C\\u53EF\\u5728\\u9884\\u89C8\\u533A\\u67E5\\u770B",\n            showIcon: true,\n            type: "warning"\n          }) : null]\n        }), /*#__PURE__*/(0,jsx_runtime.jsx)(tabs/* default */.Z, {\n          defaultActiveKey: "1",\n          tabBarExtraContent: /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n            style: {\n              display: \'flex\',\n              justifyContent: \'space-between\',\n              alignItems: \'center\'\n            },\n            children: [/*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n              children: "\\uFF08\\u5220\\u9664\\u7684\\u8282\\u70B9\\u53EF\\u5728\\u56DE\\u6536\\u7AD9\\u624B\\u52A8\\u6062\\u590D\\uFF09"\n            }), /*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.Z, {\n              onClick: handelAddNode,\n              type: "primary",\n              children: "\\u6DFB\\u52A0\\u8282\\u70B9"\n            })]\n          }),\n          onChange: handleChange,\n          children: TAB_ARR.map(item => /*#__PURE__*/(0,jsx_runtime.jsx)(TabPane, {\n            tab: item.name,\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_NodeList, {\n              status: item.status,\n              nodeList: nodeList,\n              getTimelineInfo: getTimelineInfo,\n              timelineInfo: timelineInfo,\n              refresh: refresh,\n              load: loadingNodeList,\n              configuration: configuration,\n              handlePreview: handlePreview,\n              handleCancelPreview: handleCancelPreview,\n              handelChangeNodeVisible: handelChangeNodeVisible\n            })\n          }, item.key))\n        })]\n      }), /*#__PURE__*/(0,jsx_runtime.jsxs)("div", {\n        children: [/*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n          children: "\\u9884\\u89C8\\u533A"\n        }), /*#__PURE__*/(0,jsx_runtime.jsxs)(collapse/* default */.Z, {\n          activeKey: activeKey,\n          bordered: false,\n          children: [nodePreview && /*#__PURE__*/(0,jsx_runtime.jsx)(Panel, {\n            header: "\\u5355\\u4E2A\\u8282\\u70B9",\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)("iframe", {\n              src: nodePreviewUrl,\n              id: "node",\n              name: "mobile",\n              title: "mobile",\n              frameBorder: "0",\n              width: "375",\n              height: "300"\n            })\n          }, "node"), /*#__PURE__*/(0,jsx_runtime.jsx)(Panel, {\n            header: /*#__PURE__*/(0,jsx_runtime.jsxs)("span", {\n              children: [/*#__PURE__*/(0,jsx_runtime.jsx)("span", {\n                children: "\\u6574\\u4E2A\\u65F6\\u95F4\\u7EBF"\n              }), /*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.Z, {\n                type: "primary",\n                size: "small",\n                icon: /*#__PURE__*/(0,jsx_runtime.jsx)(ReloadOutlined/* default */.Z, {}),\n                style: {\n                  float: \'right\'\n                },\n                onClick: handleTimelinePreview,\n                children: "\\u5237\\u65B0"\n              })]\n            }),\n            children: /*#__PURE__*/(0,jsx_runtime.jsx)("iframe", {\n              src: "".concat(shareUrl, "/").concat(params.timelineId),\n              id: "timelineMobile",\n              name: "mobile",\n              title: "mobile",\n              frameBorder: "0",\n              width: "375",\n              height: "667"\n            })\n          }, "timeline")]\n        })]\n      })]\n    }), /*#__PURE__*/(0,jsx_runtime.jsxs)(row/* default */.Z, {\n      className: (timelineDetailmodules_default()).saveBtn,\n      children: [/*#__PURE__*/(0,jsx_runtime.jsx)(col/* default */.Z, {\n        span: 8,\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)(components_CheckConflict, {\n          type: "TIMELINE",\n          id: params === null || params === void 0 ? void 0 : params.timelineId\n        })\n      }), /*#__PURE__*/(0,jsx_runtime.jsx)(col/* default */.Z, {\n        span: 16,\n        children: /*#__PURE__*/(0,jsx_runtime.jsx)("div", {\n          className: (timelineDetailmodules_default()).publishBtn,\n          children: /*#__PURE__*/(0,jsx_runtime.jsx)(es_button/* default */.Z, {\n            type: "primary",\n            onClick: handelPublish,\n            block: true,\n            children: "\\u53D1\\u5E03"\n          })\n        })\n      })]\n    })]\n  });\n};\n\n/* harmony default export */ var timelineDetail = (TimelineDetail);\n\n//# sourceURL=webpack://timeline/./src/pages/timelineDetail/index.tsx_+_10_modules?')},11968:function(__unused_webpack_module,__webpack_exports__){"use strict";eval("/* eslint-disable*/\nvar HOUR_TIME = 60 * 60 * 1000;\n\nfunction getCookie(name) {\n  var result = ''; // \u53bb\u6389\u7a7a\u683c\n\n  var trimCookie = document.cookie.replace(/\\s+/g, ''); // \u62c6\u5206\u6210\u6570\u7ec4\n\n  var cookieArr = trimCookie.split(';'); // \u7ec4\u88c5\u6210\u5bf9\u8c61\n\n  var cookieObj = {};\n  cookieArr.forEach(item => {\n    var eachArr = item.split('=');\n    var key = eachArr[0];\n    var value = eachArr[1];\n    cookieObj[key] = value;\n  });\n\n  if (name) {\n    result = cookieObj[name];\n  }\n\n  return result;\n}\n/**\n * \u8bbe\u7f6e cookie\n *\n * @inner\n * @param {string} name\n * @param {string} value\n * @param {Object=} options\n */\n\n\nfunction setCookie(name, value) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var expires = options.expires;\n\n  if (!isNaN(expires)) {\n    var hours = expires;\n    expires = new Date();\n    expires.setTime(expires.getTime() + hours * HOUR_TIME);\n  }\n\n  var path = options.path;\n\n  if (path == null) {\n    // \u4fdd\u8bc1\u7f51\u7ad9\u5168\u5c40\u53ef\u7528\n    path = '/';\n  }\n\n  var domain = options.domain;\n  document.cookie = [encodeURIComponent(name), '=', encodeURIComponent(value), expires ? ';expires=' + expires.toUTCString() : '', ';path=' + path, domain ? ';domain=' + domain : '', options.secure ? ';secure' : ''].join('');\n}\n\nfunction remove(key) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (key == null) {\n    return;\n  }\n\n  options.expires = null;\n  console.log(key, options);\n  setCookie(key, '', options);\n}\n\n/* harmony default export */ __webpack_exports__[\"Z\"] = ({\n  set: setCookie,\n  get: getCookie,\n  remove: remove\n});\n\n//# sourceURL=webpack://timeline/./src/utils/cookie.js?")},13345:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval("/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"cT\": function() { return /* binding */ codeMessage; },\n/* harmony export */   \"Hp\": function() { return /* binding */ operator; },\n/* harmony export */   \"hN\": function() { return /* binding */ requestCommonOption; }\n/* harmony export */ });\n/* provided dependency */ var process = __webpack_require__(82195);\nvar codeMessage = {\n  401: '\u7528\u6237\u6ca1\u6709\u6743\u9650\uff08\u4ee4\u724c\u3001\u7528\u6237\u540d\u3001\u5bc6\u7801\u9519\u8bef\uff09\u3002',\n  403: '\u7528\u6237\u5f97\u5230\u6388\u6743\uff0c\u4f46\u662f\u8bbf\u95ee\u662f\u88ab\u7981\u6b62\u7684\u3002',\n  404: '\u53d1\u51fa\u7684\u8bf7\u6c42\u9488\u5bf9\u7684\u662f\u4e0d\u5b58\u5728\u7684\u8bb0\u5f55\uff0c\u670d\u52a1\u5668\u6ca1\u6709\u8fdb\u884c\u64cd\u4f5c\u3002',\n  500: '\u670d\u52a1\u5668\u53d1\u751f\u9519\u8bef\uff0c\u8bf7\u68c0\u67e5\u670d\u52a1\u5668\u3002',\n  502: '\u7f51\u5173\u9519\u8bef\u3002',\n  504: '\u7f51\u5173\u9519\u8bef\u3002'\n};\nvar operator = {\n  source: 'h5',\n  uid: 'self'\n};\nvar basePath = process['CONFIG'].basePath;\nvar requestCommonOption = {\n  baseUrl: \"\".concat(basePath, \"/timelineApi/back/api\"),\n  withoutCheckCode: true\n};\n\n//# sourceURL=webpack://timeline/./src/utils/request/constant.js?")},13918:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";eval('\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  "Z": function() { return /* binding */ utils_request; }\n});\n\n// UNUSED EXPORTS: token\n\n// EXTERNAL MODULE: ./node_modules/antd/es/message/style/index.js\nvar style = __webpack_require__(14643);\n// EXTERNAL MODULE: ./node_modules/antd/es/message/index.js + 1 modules\nvar message = __webpack_require__(92909);\n// EXTERNAL MODULE: ./node_modules/antd/es/notification/style/index.js\nvar notification_style = __webpack_require__(68059);\n// EXTERNAL MODULE: ./node_modules/antd/es/notification/index.js + 1 modules\nvar notification = __webpack_require__(84737);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 1 modules\nvar objectSpread2 = __webpack_require__(52663);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js + 1 modules\nvar objectWithoutProperties = __webpack_require__(3911);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(68699);\n// EXTERNAL MODULE: ./node_modules/@umijs/babel-preset-umi/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(94043);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar node_modules_axios = __webpack_require__(72597);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(node_modules_axios);\n;// CONCATENATED MODULE: ./src/utils/request/util.js\nvar whitelistMessage = [\'Request aborted\']; // \u9519\u8bef\u4e0a\u62a5\n\nvar updateError = _ref => {\n  var err = _ref.err,\n      url = _ref.url,\n      title = _ref.title;\n  if (whitelistMessage.includes(err === null || err === void 0 ? void 0 : err.message)) return;\n\n  try {\n    // \u9700\u5728config/configs/production.js\u914d\u7f6e\u63a5\u53e3\u8f6c\u53d1\u624d\u80fd\u4e0a\u9001\u6210\u529f\n    axios({\n      url: \'/api/warn/schema/save\',\n      method: \'post\',\n      responseType: \'json\',\n      headers: {\n        \'content-type\': \'application/json\'\n      },\n      data: {\n        namespace: \'platform\',\n        appname: \'timeline\',\n        url: location.href,\n        title,\n        type: \'api\',\n        message: JSON.stringify(err),\n        error: [],\n        data: {\n          sourceUrl: url,\n          operator: localStorage.username\n        }\n      },\n      timeout: 10 * 60 * 1000\n    });\n  } catch (error) {\n    console.error(error);\n  }\n};\n// EXTERNAL MODULE: ./src/utils/request/constant.js\nvar constant = __webpack_require__(13345);\n// EXTERNAL MODULE: ./src/utils/cookie.js\nvar cookie = __webpack_require__(11968);\n// EXTERNAL MODULE: ./node_modules/ajv/dist/ajv.js\nvar ajv = __webpack_require__(13370);\nvar ajv_default = /*#__PURE__*/__webpack_require__.n(ajv);\n// EXTERNAL MODULE: ./node_modules/qs/lib/index.js\nvar lib = __webpack_require__(92090);\n;// CONCATENATED MODULE: ./src/utils/request/index.ts\n/* provided dependency */ var process = __webpack_require__(82195);\n\n\n\n\n\n\n\n\n\n/* \u5c01\u88c5request\u7f51\u7edc\u8bf7\u6c42 */\n\n\n\n // ajv \u662f\u4e00\u4e2aJSON Schema\u6807\u51c6\u9a8c\u8bc1\u5668\u7684\u5b9e\u73b0\n\n\n\nvar request_ajv = new (ajv_default())(); // @ts-ignore\n\nvar _process$CONFIG = process.CONFIG,\n    configToken = _process$CONFIG.configToken,\n    domain = _process$CONFIG.domain,\n    basePath = _process$CONFIG.basePath;\nvar token = cookie/* default.get */.Z.get(configToken) || \'173d4506-8704-424b-bda3-a6deda433395\'; // \u9a8c\u8bc1\u8fd4\u56de\u7684httpCode\u548ccode\u503c\n\nfunction checkStatus(response, withoutCheckCode, successCode) {\n  var _response$data;\n\n  var isResponseError = response.status < 200 || response.status > 300;\n  var dataCode = (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.code;\n  var isDataError = !withoutCheckCode && dataCode !== 0 && dataCode !== 200 && dataCode !== successCode;\n\n  if (!isResponseError && !isDataError) {\n    return response;\n  }\n\n  var data = response.data;\n  var errorStatus = isResponseError ? response.status : data === null || data === void 0 ? void 0 : data.code;\n  var errorText = isResponseError ? data === null || data === void 0 ? void 0 : data.message : (data === null || data === void 0 ? void 0 : data.msg) || (data === null || data === void 0 ? void 0 : data.message) || (data === null || data === void 0 ? void 0 : data.showMessage);\n  var error = new Error(errorText || constant/* codeMessage */.cT[errorStatus]);\n  error.status = errorStatus;\n  error.response = response;\n  throw error;\n} // \u9a8c\u8bc1\u8fd4\u56de\u6570\u636e\u662f\u5426\u7b26\u5408\u5f53\u524d\u8981\u6c42\u7684schema\u7ed3\u6784\n\n\nvar checkSchema = (schema, data, requestOption) => {\n  if (typeof data === \'object\') {\n    var valid = request_ajv.validate(schema, data);\n    var path = requestOption === null || requestOption === void 0 ? void 0 : requestOption.url;\n\n    if (!valid) {\n      var _ajv$errors;\n\n      (_ajv$errors = request_ajv.errors) === null || _ajv$errors === void 0 ? void 0 : _ajv$errors.forEach(item => {\n        var errorObj = {\n          message: "".concat(item.keyword, " OF ").concat(item.dataPath, " ").concat(item.message, " FROM \'").concat(path, "\'"),\n          data,\n          option: requestOption === null || requestOption === void 0 ? void 0 : requestOption.body\n        };\n        var errorMessage = " JSON SCHEMA ERROR : ".concat(JSON.stringify(errorObj, null, 2), " ");\n        updateError({\n          err: errorObj,\n          url: path,\n          title: \'schema \u9519\u8bef\'\n        });\n      });\n    }\n  }\n}; // eslint-disable-next-line consistent-return\n\n\nfunction request(_x) {\n  return _request.apply(this, arguments);\n}\n\nfunction _request() {\n  _request = (0,asyncToGenerator/* default */.Z)( /*#__PURE__*/regenerator_default().mark(function _callee(url) {\n    var requestOptions,\n        withoutError,\n        schema,\n        body,\n        withoutCheckCode,\n        successCode,\n        _requestOptions$needO,\n        needOperator,\n        params,\n        options,\n        _options$method,\n        _options$responseType,\n        requestConfig,\n        requsetUrl,\n        response,\n        status,\n        _err$response,\n        _err$response$data,\n        _args = arguments;\n\n    return regenerator_default().wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            requestOptions = _args.length > 1 && _args[1] !== undefined ? _args[1] : {};\n            withoutError = requestOptions.withoutError, schema = requestOptions.schema, body = requestOptions.body, withoutCheckCode = requestOptions.withoutCheckCode, successCode = requestOptions.successCode, _requestOptions$needO = requestOptions.needOperator, needOperator = _requestOptions$needO === void 0 ? false : _requestOptions$needO, params = requestOptions.params, options = (0,objectWithoutProperties/* default */.Z)(requestOptions, ["withoutError", "schema", "body", "withoutCheckCode", "successCode", "needOperator", "params"]);\n            console.log(\'requestOptions\', requestOptions);\n            _context.prev = 3;\n            // \u8bf7\u6c42\u5934\n            requestConfig = {\n              method: (_options$method = options === null || options === void 0 ? void 0 : options.method) !== null && _options$method !== void 0 ? _options$method : \'GET\',\n              headers: (0,objectSpread2/* default */.Z)({\n                authorization: "Bearer ".concat(token),\n                token\n              }, (options === null || options === void 0 ? void 0 : options.headers) || {}),\n              data: needOperator ? (0,objectSpread2/* default */.Z)({\n                operator: constant/* operator */.Hp\n              }, body) : body,\n              responseType: (_options$responseType = options === null || options === void 0 ? void 0 : options.responseType) !== null && _options$responseType !== void 0 ? _options$responseType : \'json\',\n              validateStatus: () => true,\n              timeout: 10 * 60 * 1000\n            };\n\n            if (options.method && [\'POST\', \'PUT\', \'DELETE\'].includes(options.method) && body && body instanceof FormData) {\n              requestConfig.transformRequest = data => data;\n            }\n\n            requsetUrl = "".concat(url).concat(params ? "?".concat((0,lib.stringify)(params)) : \'\'); // \u8bf7\u6c42URL\uff1aurl\u4e3a\u8bf7\u6c42\u5b57\u6bb5 params:\u53c2\u6570\n\n            _context.next = 9;\n            return axios_default()((0,objectSpread2/* default */.Z)({\n              url: requsetUrl\n            }, requestConfig));\n\n          case 9:\n            response = _context.sent;\n            checkStatus(response, withoutCheckCode, successCode);\n\n            if (schema) {\n              checkSchema(schema, response.data, {\n                url,\n                body\n              });\n            }\n\n            return _context.abrupt("return", response.data);\n\n          case 15:\n            _context.prev = 15;\n            _context.t0 = _context["catch"](3);\n            status = _context.t0.status;\n\n            if (status === 401 || status === -2) {\n              notification.default.destroy();\n\n              notification.default.error({\n                message: constant/* codeMessage.401 */.cT[401]\n              }); // token\u8fc7\u671f\uff0c\u6e05\u7a7a\u5f53\u524d\u73af\u5883token\n\n\n              cookie/* default.remove */.Z.remove(configToken, {\n                domain\n              });\n              setTimeout(() => {\n                console.log("".concat(process[\'CONFIG\'].linkLoginUrl, "?redirect=").concat(encodeURIComponent(window.location.href)));\n                window.location.href = "".concat(process[\'CONFIG\'].linkLoginUrl, "?redirect=").concat(encodeURIComponent(window.location.href));\n              }, 1500);\n            }\n\n            if (withoutError) {\n              _context.next = 23;\n              break;\n            }\n\n            message.default.destroy();\n\n            message.default.error((_context.t0 === null || _context.t0 === void 0 ? void 0 : (_err$response = _context.t0.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.msg) || _context.t0.message);\n\n            return _context.abrupt("return", Promise.reject(_context.t0));\n\n          case 23:\n          case "end":\n            return _context.stop();\n        }\n      }\n    }, _callee, null, [[3, 15]]);\n  }));\n  return _request.apply(this, arguments);\n}\n\n/* harmony default export */ var utils_request = (request);\n\n//# sourceURL=webpack://timeline/./src/utils/request/index.ts_+_1_modules?')},46700:function(module,__unused_webpack_exports,__webpack_require__){eval('var map = {\n\t"./af": 60757,\n\t"./af.js": 60757,\n\t"./ar": 22490,\n\t"./ar-dz": 15633,\n\t"./ar-dz.js": 15633,\n\t"./ar-kw": 12602,\n\t"./ar-kw.js": 12602,\n\t"./ar-ly": 34074,\n\t"./ar-ly.js": 34074,\n\t"./ar-ma": 98317,\n\t"./ar-ma.js": 98317,\n\t"./ar-sa": 29752,\n\t"./ar-sa.js": 29752,\n\t"./ar-tn": 66061,\n\t"./ar-tn.js": 66061,\n\t"./ar.js": 22490,\n\t"./az": 92136,\n\t"./az.js": 92136,\n\t"./be": 57080,\n\t"./be.js": 57080,\n\t"./bg": 48473,\n\t"./bg.js": 48473,\n\t"./bm": 38856,\n\t"./bm.js": 38856,\n\t"./bn": 17146,\n\t"./bn-bd": 5223,\n\t"./bn-bd.js": 5223,\n\t"./bn.js": 17146,\n\t"./bo": 30594,\n\t"./bo.js": 30594,\n\t"./br": 48831,\n\t"./br.js": 48831,\n\t"./bs": 67530,\n\t"./bs.js": 67530,\n\t"./ca": 82766,\n\t"./ca.js": 82766,\n\t"./cs": 3830,\n\t"./cs.js": 3830,\n\t"./cv": 74487,\n\t"./cv.js": 74487,\n\t"./cy": 60146,\n\t"./cy.js": 60146,\n\t"./da": 66186,\n\t"./da.js": 66186,\n\t"./de": 86621,\n\t"./de-at": 72833,\n\t"./de-at.js": 72833,\n\t"./de-ch": 78113,\n\t"./de-ch.js": 78113,\n\t"./de.js": 86621,\n\t"./dv": 32345,\n\t"./dv.js": 32345,\n\t"./el": 69981,\n\t"./el.js": 69981,\n\t"./en-au": 16498,\n\t"./en-au.js": 16498,\n\t"./en-ca": 94555,\n\t"./en-ca.js": 94555,\n\t"./en-gb": 93204,\n\t"./en-gb.js": 93204,\n\t"./en-ie": 89988,\n\t"./en-ie.js": 89988,\n\t"./en-il": 3777,\n\t"./en-il.js": 3777,\n\t"./en-in": 23231,\n\t"./en-in.js": 23231,\n\t"./en-nz": 30533,\n\t"./en-nz.js": 30533,\n\t"./en-sg": 73034,\n\t"./en-sg.js": 73034,\n\t"./eo": 21496,\n\t"./eo.js": 21496,\n\t"./es": 65678,\n\t"./es-do": 76879,\n\t"./es-do.js": 76879,\n\t"./es-mx": 55440,\n\t"./es-mx.js": 55440,\n\t"./es-us": 66963,\n\t"./es-us.js": 66963,\n\t"./es.js": 65678,\n\t"./et": 41003,\n\t"./et.js": 41003,\n\t"./eu": 90013,\n\t"./eu.js": 90013,\n\t"./fa": 29692,\n\t"./fa.js": 29692,\n\t"./fi": 68102,\n\t"./fi.js": 68102,\n\t"./fil": 22918,\n\t"./fil.js": 22918,\n\t"./fo": 87496,\n\t"./fo.js": 87496,\n\t"./fr": 67474,\n\t"./fr-ca": 1853,\n\t"./fr-ca.js": 1853,\n\t"./fr-ch": 44675,\n\t"./fr-ch.js": 44675,\n\t"./fr.js": 67474,\n\t"./fy": 97061,\n\t"./fy.js": 97061,\n\t"./ga": 96867,\n\t"./ga.js": 96867,\n\t"./gd": 18364,\n\t"./gd.js": 18364,\n\t"./gl": 96383,\n\t"./gl.js": 96383,\n\t"./gom-deva": 64220,\n\t"./gom-deva.js": 64220,\n\t"./gom-latn": 87202,\n\t"./gom-latn.js": 87202,\n\t"./gu": 25249,\n\t"./gu.js": 25249,\n\t"./he": 96022,\n\t"./he.js": 96022,\n\t"./hi": 65395,\n\t"./hi.js": 65395,\n\t"./hr": 29361,\n\t"./hr.js": 29361,\n\t"./hu": 93797,\n\t"./hu.js": 93797,\n\t"./hy-am": 85874,\n\t"./hy-am.js": 85874,\n\t"./id": 77084,\n\t"./id.js": 77084,\n\t"./is": 12592,\n\t"./is.js": 12592,\n\t"./it": 54296,\n\t"./it-ch": 35272,\n\t"./it-ch.js": 35272,\n\t"./it.js": 54296,\n\t"./ja": 17620,\n\t"./ja.js": 17620,\n\t"./jv": 46898,\n\t"./jv.js": 46898,\n\t"./ka": 62752,\n\t"./ka.js": 62752,\n\t"./kk": 5632,\n\t"./kk.js": 5632,\n\t"./km": 16667,\n\t"./km.js": 16667,\n\t"./kn": 88963,\n\t"./kn.js": 88963,\n\t"./ko": 35953,\n\t"./ko.js": 35953,\n\t"./ku": 72004,\n\t"./ku.js": 72004,\n\t"./ky": 71803,\n\t"./ky.js": 71803,\n\t"./lb": 12835,\n\t"./lb.js": 12835,\n\t"./lo": 98185,\n\t"./lo.js": 98185,\n\t"./lt": 40538,\n\t"./lt.js": 40538,\n\t"./lv": 74582,\n\t"./lv.js": 74582,\n\t"./me": 23663,\n\t"./me.js": 23663,\n\t"./mi": 35840,\n\t"./mi.js": 35840,\n\t"./mk": 88701,\n\t"./mk.js": 88701,\n\t"./ml": 2209,\n\t"./ml.js": 2209,\n\t"./mn": 38391,\n\t"./mn.js": 38391,\n\t"./mr": 14481,\n\t"./mr.js": 14481,\n\t"./ms": 20135,\n\t"./ms-my": 29977,\n\t"./ms-my.js": 29977,\n\t"./ms.js": 20135,\n\t"./mt": 81029,\n\t"./mt.js": 81029,\n\t"./my": 27402,\n\t"./my.js": 27402,\n\t"./nb": 18929,\n\t"./nb.js": 18929,\n\t"./ne": 29030,\n\t"./ne.js": 29030,\n\t"./nl": 18208,\n\t"./nl-be": 92510,\n\t"./nl-be.js": 92510,\n\t"./nl.js": 18208,\n\t"./nn": 46456,\n\t"./nn.js": 46456,\n\t"./oc-lnc": 98952,\n\t"./oc-lnc.js": 98952,\n\t"./pa-in": 9734,\n\t"./pa-in.js": 9734,\n\t"./pl": 67042,\n\t"./pl.js": 67042,\n\t"./pt": 97351,\n\t"./pt-br": 63673,\n\t"./pt-br.js": 63673,\n\t"./pt.js": 97351,\n\t"./ro": 62080,\n\t"./ro.js": 62080,\n\t"./ru": 78025,\n\t"./ru.js": 78025,\n\t"./sd": 51922,\n\t"./sd.js": 51922,\n\t"./se": 82651,\n\t"./se.js": 82651,\n\t"./si": 29320,\n\t"./si.js": 29320,\n\t"./sk": 23337,\n\t"./sk.js": 23337,\n\t"./sl": 8683,\n\t"./sl.js": 8683,\n\t"./sq": 10119,\n\t"./sq.js": 10119,\n\t"./sr": 72660,\n\t"./sr-cyrl": 9322,\n\t"./sr-cyrl.js": 9322,\n\t"./sr.js": 72660,\n\t"./ss": 33350,\n\t"./ss.js": 33350,\n\t"./sv": 19607,\n\t"./sv.js": 19607,\n\t"./sw": 16552,\n\t"./sw.js": 16552,\n\t"./ta": 25391,\n\t"./ta.js": 25391,\n\t"./te": 78149,\n\t"./te.js": 78149,\n\t"./tet": 27113,\n\t"./tet.js": 27113,\n\t"./tg": 4503,\n\t"./tg.js": 4503,\n\t"./th": 33665,\n\t"./th.js": 33665,\n\t"./tk": 68356,\n\t"./tk.js": 68356,\n\t"./tl-ph": 62917,\n\t"./tl-ph.js": 62917,\n\t"./tlh": 42669,\n\t"./tlh.js": 42669,\n\t"./tr": 34573,\n\t"./tr.js": 34573,\n\t"./tzl": 16022,\n\t"./tzl.js": 16022,\n\t"./tzm": 881,\n\t"./tzm-latn": 30897,\n\t"./tzm-latn.js": 30897,\n\t"./tzm.js": 881,\n\t"./ug-cn": 45472,\n\t"./ug-cn.js": 45472,\n\t"./uk": 1300,\n\t"./uk.js": 1300,\n\t"./ur": 96961,\n\t"./ur.js": 96961,\n\t"./uz": 51699,\n\t"./uz-latn": 87476,\n\t"./uz-latn.js": 87476,\n\t"./uz.js": 51699,\n\t"./vi": 91544,\n\t"./vi.js": 91544,\n\t"./x-pseudo": 22086,\n\t"./x-pseudo.js": 22086,\n\t"./yo": 85911,\n\t"./yo.js": 85911,\n\t"./zh-cn": 38098,\n\t"./zh-cn.js": 38098,\n\t"./zh-hk": 53720,\n\t"./zh-hk.js": 53720,\n\t"./zh-mo": 10794,\n\t"./zh-mo.js": 10794,\n\t"./zh-tw": 36087,\n\t"./zh-tw.js": 36087\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error("Cannot find module \'" + req + "\'");\n\t\te.code = \'MODULE_NOT_FOUND\';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 46700;\n\n//# sourceURL=webpack://timeline/./node_modules/moment/locale/_sync_^\\.\\/.*$?')},17656:function(module){eval('// extracted by mini-css-extract-plugin\nmodule.exports = {"configBox":"configBox___1DbAF","configTag":"configTag___2w587","tagIcon":"tagIcon___1wqjS","showTag":"showTag___2BY14","selectedTag":"selectedTag___3zHk9","configWrap":"configWrap___1BGy7"};\n\n//# sourceURL=webpack://timeline/./src/components/Configuration/index.less?')},76231:function(module){eval('// extracted by mini-css-extract-plugin\nmodule.exports = {"timelineDetailWrap":"timelineDetailWrap___2CR6v","updateTip":"updateTip___3WPqX","configWrap":"configWrap___1puGC","configOperate":"configOperate___1MSqy","nodeListOpe":"nodeListOpe___3m2Xb","saveBtn":"saveBtn___3SqIh","uploadVideoBtn":"uploadVideoBtn___2YVFU","publishBtn":"publishBtn___2NmXH","publishTip":"publishTip___6M6TN","opeBtn":"opeBtn___20qKs","configTag":"configTag___23czX","interactWrap":"interactWrap___3m5fb"};\n\n//# sourceURL=webpack://timeline/./src/pages/timelineDetail/index.less?')}}]);